<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apostila Interativa de P√£es</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F0F4F8; 
            color: #1E293B; 
        }
        .sidebar {
            background-color: #0C4A6E; 
            min-height: 100vh;
            width: 25%; 
        }
        @media (min-width: 1024px) { 
            .sidebar {
                width: 20%;
            }
        }
        #downloadApostilaButton { 
            background-color: #E0F2FE; 
            color: #0C4A6E; 
            font-weight: 600;
            padding: 0.65rem 1rem; 
            border-radius: 0.375rem; 
            transition: background-color 0.2s ease-in-out;
            border: 1px solid #075985; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }
        #downloadApostilaButton:hover {
            background-color: #BAE6FD; 
        }
        #downloadApostilaButton svg {
             margin-right: 0.5rem; 
        }

        .nav-category-button, .nav-page-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 0.85rem 1rem;
            font-size: 0.875rem; 
            font-weight: 700; 
            color: #E0F2FE; 
            text-transform: uppercase;
            letter-spacing: 0.05em;
            background-color: transparent;
            border: none;
            border-bottom: 1px solid #075985; 
            cursor: pointer;
            text-align: left;
            transition: background-color 0.2s ease-in-out;
        }
        .nav-category-button:hover, .nav-page-button:hover {
            background-color: #075985;
        }
        .nav-category-button svg, .nav-page-button svg {
            width: 1rem;
            height: 1rem;
            transition: transform 0.3s ease-in-out;
            fill: #E0F2FE; 
        }
        .nav-category-button.open svg {
            transform: rotate(90deg);
        }
        .nav-submenu {
            max-height: 0;
            overflow-y: auto; 
            transition: max-height 0.4s ease-in-out; 
            background-color: #0E5E8E; 
        }
        .nav-submenu.open {
            max-height: 500px; 
        }
        .nav-item {
            padding: 0.75rem 1rem 0.75rem 1.75rem; 
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            color: #E0F2FE; 
            display: block;
            font-size: 0.875rem; 
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis; 
        }
        .nav-item:hover {
            background-color: #075985; 
            color: #FFFFFF; 
        }
        .nav-item.active, .nav-page-button.active-page, .nav-category-button.active-category {
            background-color: #2563EB; 
            color: white;
            font-weight: 600;
        }
         .nav-category-button.active-category { 
             background-color: #0369A1; 
             color: #FFFFFF;
        }

        .content-area {
            background-color: #FFFFFF; 
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            position: relative; 
        }
        .page-title, .recipe-title {
            color: #111827; 
            border-bottom: 2px solid #3B82F6; 
            font-size: 1.875rem; 
            font-weight: 700; 
            margin-bottom: 1rem; 
            padding-bottom: 0.5rem; 
        }
        .content-area h3 { 
            font-size: 1.5rem; 
            font-weight: 600; 
            margin-top: 1.5rem; 
            margin-bottom: 1rem; 
            color: #1E293B; 
            border-bottom: 1px solid #93C5FD; 
            padding-bottom: 0.25rem;
        }
         .content-area h4 { 
            font-size: 1.25rem; 
            font-weight: 600; 
            margin-top: 1.25rem; 
            margin-bottom: 0.75rem; 
            color: #1E293B; 
        }
        .content-area p, .content-area li:not(.edit-item-li) {
            color: #334155; 
            margin-bottom: 0.75rem; 
            line-height: 1.6;
        }
        .content-area ul:not(.edit-controls) {
            list-style-type: disc;
            margin-left: 1.5rem; 
            padding-left: 1rem; 
        }
         .content-area ol {
            list-style-type: decimal;
            margin-left: 1.5rem; 
            padding-left: 1rem; 
        }
        .content-area strong {
            font-weight: 600;
            color: #1E293B;
        }
        .dicas-jean { 
            background-color: #F0FDFA; 
            border-left: 4px solid #14B8A6; 
            color: #0F766E; 
            padding: 1rem; 
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        th, td {
            border: 1px solid #E5E7EB; 
            padding: 0.5rem;
            text-align: left;
            vertical-align: top; 
        }
        th {
            background-color: #F3F4F6; 
            font-weight: 600;
            color: #374151; 
        }
        .edit-mode-input, .edit-mode-textarea {
            width: 100%;
            padding: 0.375rem 0.5rem;
            border: 1px solid #D1D5DB; 
            border-radius: 0.25rem; 
            box-sizing: border-box; 
        }
        .edit-mode-textarea {
            min-height: 60px; 
            resize: vertical; 
        }
        .remove-btn, .add-btn {
            background-color: #EF4444; 
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.75rem;
            margin-left: 0.5rem;
            transition: background-color 0.2s;
        }
        .remove-btn:hover {
            background-color: #DC2626; 
        }
        .add-btn {
            background-color: #22C55E; 
            margin-top: 0.5rem;
            display: inline-block; 
        }
        .add-btn:hover {
            background-color: #16A34A; 
        }
        .edit-item-li { 
            display: flex;
            align-items: flex-start; 
            margin-bottom: 0.5rem;
        }
        .edit-item-li .edit-mode-textarea {
            flex-grow: 1; 
        }
        #mobileMenuButton { display: none; }
        #recipeControlsContainer, #printRecipeButtonContainer { 
            text-align: right;
            margin-bottom: 1rem;
        }
        #printRecipeButton, #saveRecipeChangesButton, #editRecipeButton, #cancelEditButton, #restoreDefaultRecipesButton {
             background-color: #2563EB; 
             color: white;
             font-weight: 600; 
             padding-top: 0.5rem; padding-bottom: 0.5rem; 
             padding-left: 1rem; padding-right: 1rem; 
             border-radius: 0.375rem; 
             box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); 
             margin-left: 0.5rem; 
        }
        #printRecipeButton:hover, #saveRecipeChangesButton:hover, #editRecipeButton:hover, #cancelEditButton:hover, #restoreDefaultRecipesButton:hover {
            background-color: #1D4ED8; 
        }
        #editRecipeButton { background-color: #F59E0B; } 
        #editRecipeButton:hover { background-color: #D97706; } 
        #cancelEditButton { background-color: #6B7280; } 
        #cancelEditButton:hover { background-color: #4B5563; } 
        #restoreDefaultRecipesButton { background-color: #D9534F; } 
        #restoreDefaultRecipesButton:hover { background-color: #C9302C; }


        @media (max-width: 768px) {
            #mobileMenuButton { display: block; position: fixed; top: 1rem; left: 1rem; z-index: 50; background-color: #2563EB; }
            .sidebar { position: fixed; top: 0; left: -250px; width: 250px; height: 100%; z-index: 40; transition: left 0.3s ease-in-out; overflow-y: auto; }
            .sidebar.open { left: 0; }
            .main-content-area { margin-left: 0; }
            .content-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 30; }
            .content-overlay.open { display: block; }
            #printRecipeButtonContainer, #recipeControlsContainer { margin-top: 1rem; text-align: center; display: flex; flex-wrap: wrap; justify-content: center; gap: 0.5rem; }
        }

        @media print {
            body { background-color: #FFFFFF; color: #000000; }
            .sidebar, #mobileMenuButton, #printRecipeButtonContainer, #recipeControlsContainer, footer, header, #flourCalculatorContainer, .remove-btn, .add-btn, #downloadApostilaButton, #restoreDefaultRecipesButton { display: none !important; }
            .edit-mode-input, .edit-mode-textarea { background-color: transparent !important; border: none !important; outline: none !important; padding: 0 !important; width: auto !important; min-height: auto !important; resize: none !important; }
            .main-content-area { width: 100%; margin: 0; padding: 0; }
            .content-area { box-shadow: none; border-radius: 0; padding: 1cm; }
            .recipe-title, .page-title { border-bottom: 2px solid #000000; font-size: 24pt; }
            .content-area h3 { font-size: 18pt; border-bottom: 1px solid #cccccc; }
            .content-area h4 { font-size: 14pt; }
            table, th, td { border: 1px solid #000000 !important; }
            th { background-color: #EEEEEE !important; }
            .dicas-jean { border-left: 4px solid #000000 !important; background-color: #FAFAFA !important; padding: 10px; margin-top: 15px; }
            textarea { border: 1px dashed #ccc !important; background-color: #f9f9f9 !important; display: block; width: 100%; min-height: 50px; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body>
    <div class="flex flex-col md:flex-row">
        <button id="mobileMenuButton" class="md:hidden p-2 text-white rounded-md shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
        </button>

        <aside id="sidebar" class="sidebar p-4 space-y-0">
            <h1 class="text-2xl font-bold text-sky-100 mb-4 text-center">Apostila de P√£es</h1>
            <button id="downloadApostilaButton" class="w-full text-sm text-center mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline-block mr-1 align-text-bottom">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
                Baixar Apostila Atualizada
            </button>
            <nav id="recipeNav" class="space-y-0">
            </nav>
        </aside>

        <div id="contentOverlay" class="content-overlay md:hidden"></div>

        <main id="mainContent" class="main-content-area flex-1 p-4 md:p-8">
            <header class="mb-8 text-center">
                <h1 class="text-4xl font-bold text-blue-700">Apostila Interativa de P√£es</h1>
                <p class="text-lg text-slate-600 mt-2">Um Guia Completo para Panifica√ß√£o</p>
            </header>
            
            <div id="recipeControlsContainer" class="flex justify-end items-center mb-4">
                 <button id="editRecipeButton" style="display: none;">
                    ‚úèÔ∏è Editar Receita
                </button>
                <button id="saveRecipeChangesButton" style="display: none;">
                    üíæ Salvar Localmente
                </button>
                 <button id="cancelEditButton" style="display: none;">
                    ‚ùå Cancelar Edi√ß√£o
                </button>
                 <button id="printRecipeButton" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline-block mr-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 012.25 2.25H15M10 7.5V3m2.25 4.5V3m0 11.25c0 .386.314.75.75.75h1.5a.75.75 0 00.75-.75V7.5M6 18.75a.75.75 0 00.75.75h.008a.75.75 0 00.75-.75V18.75m0 0c0-.973.788-1.75 1.75-1.75H15M10 18.75V7.5m6-4.5v3.75m.75-3.75h.008v3.75M16.5 18.75V7.5m0 0v3.75m0-3.75h.008a1.875 1.875 0 011.875 1.875v1.5A1.875 1.875 0 0118.75 12h.008v3.75m-1.875-3.75h.008a1.875 1.875 0 011.875 1.875v1.5A1.875 1.875 0 0118.75 12h-1.5m0 0H3.75m0 0h-.008A1.875 1.875 0 011.875 12V9.75A1.875 1.875 0 013.75 8.25h1.5" />
                    </svg>
                    Imprimir Receita
                </button>
                 <button id="restoreDefaultRecipesButton" style="display: none;">
                    Restaurar Padr√£o
                </button>
            </div>
            <div id="recipeContentContainer" class="content-area p-6 md:p-8">
                <div id="recipeContent">
                    <p class="text-lg text-center text-slate-500">Selecione uma receita ou se√ß√£o ao lado para come√ßar.</p>
                </div>
            </div>

            <footer class="mt-12 text-center text-sm text-slate-500">
                <p>&copy; 2024 - Apostila de Panifica√ß√£o.</p>
            </footer>
        </main>
    </div>

    <script>
        // --- DATA DEFINITIONS ---
        const pageContents = {
            fermentation_geral: `<h2 class="page-title">Fermenta√ß√£o na Panifica√ß√£o ‚Äì A Alma do P√£o</h2><p>A fermenta√ß√£o √© um dos processos mais cruciais e fascinantes na arte da panifica√ß√£o...</p>`,
            levain_content: `
                <h2 class="page-title">Levain (Fermento Natural)</h2>
                <p>O Levain, tamb√©m conhecido como Massa Madre ou Sourdough Starter, √© uma cultura simbi√≥tica de leveduras selvagens e bact√©rias √°cido-l√°ticas que fermentam a farinha e a √°gua. √â a forma mais antiga de fermenta√ß√£o de p√£es.</p>
                <h3>Caracter√≠sticas e Forma de Fazer (Conceitual):</h3>
                <ul>
                    <li><strong>Cria√ß√£o:</strong> Inicia-se misturando farinha (geralmente integral ou de centeio, ricas em microrganismos) e √°gua, deixando a mistura em temperatura ambiente. Diariamente, alimenta-se descartando uma parte e adicionando mais farinha e √°gua frescas. Este processo pode levar de 7 a 14 dias at√© que o levain esteja ativo e est√°vel.</li>
                    <li><strong>Manuten√ß√£o:</strong> Um levain maduro precisa ser alimentado regularmente (refrescos) para se manter ativo. A frequ√™ncia depende da temperatura de armazenamento (mais frequente em temperatura ambiente, menos frequente se refrigerado).</li>
                    <li><strong>Uso:</strong> Uma por√ß√£o do levain maduro e ativo √© incorporada √† massa final do p√£o, atuando como o principal (ou √∫nico) agente de fermenta√ß√£o.</li>
                    <li><strong>Benef√≠cios:</strong> Confere ao p√£o um sabor complexo e caracteristicamente √°cido (de suave a intenso, dependendo do manejo), melhor digestibilidade, maior durabilidade e uma estrutura de miolo geralmente mais aberta e irregular.</li>
                    <li><strong>Tipos:</strong> Pode ser mantido com diferentes hidrata√ß√µes (levain l√≠quido ‚Äì 100% de hidrata√ß√£o ou mais; levain firme ‚Äì menos de 60-70% de hidrata√ß√£o), o que influencia o perfil de sabor e a atividade fermentativa.</li>
                </ul>
                <h3>Modo de Fazer (Passo a Passo - Cria√ß√£o B√°sica de Levain L√≠quido 100% Hidrata√ß√£o):</h3>
                <ol>
                    <li><strong>Dia 1:</strong> Num frasco de vidro limpo, misture 50g de farinha de centeio integral (ou trigo integral) com 50g de √°gua morna (aproximadamente 28-30¬∞C). Cubra frouxamente (com a tampa do frasco apenas pousada ou um pano preso com um el√°stico) e deixe em temperatura ambiente (idealmente 22-26¬∞C) por 24 horas.</li>
                    <li><strong>Dia 2:</strong> Observe. Pode n√£o haver muita atividade. Deixe por mais 24 horas.</li>
                    <li><strong>Dia 3:</strong> Descarte metade da mistura (aproximadamente 50g). Adicione 25g de farinha de trigo comum (T65 ou similar) e 25g de farinha integral (ou centeio), mais 50g de √°gua morna. Misture bem, cubra e deixe por 24 horas.</li>
                    <li><strong>Dia 4 ao Dia 7 (ou mais):</strong> Repita o processo do Dia 3 (descartar metade, alimentar com 50g de farinha total ‚Äì pode ser uma mistura ou apenas trigo comum ‚Äì e 50g de √°gua). Come√ßar√° a notar bolhas, aumento de volume e um aroma √°cido agrad√°vel. O levain est√° a ficar ativo quando dobra de volume consistentemente em 4-8 horas ap√≥s a alimenta√ß√£o.</li>
                    <li><strong>Manuten√ß√£o (ap√≥s ativo):</strong>
                        <ul>
                            <li><strong>Temperatura Ambiente:</strong> Alimente a cada 12-24 horas (descarte uma parte, adicione farinha e √°gua na propor√ß√£o desejada, por exemplo, 1:1:1 ‚Äì levain:farinha:√°gua).</li>
                            <li><strong>Refrigerado:</strong> Ap√≥s alimentar e deixar fermentar por 1-2 horas em temperatura ambiente, pode guardar no frigor√≠fico por at√© uma semana. Antes de usar, retire do frigor√≠fico, deixe atingir a temperatura ambiente e alimente-o uma ou duas vezes at√© estar bem ativo.</li>
                        </ul>
                    </li>
                    <li><strong>Uso:</strong> Utilize o levain no pico da sua atividade, geralmente algumas horas ap√≥s a alimenta√ß√£o, quando estiver borbulhante e tiver duplicado ou triplicado de volume.</li>
                </ol>
            `,
            biga_content: `
                <h2 class="page-title">Biga (Pr√©-Fermento Firme)</h2>
                <p>A Biga √© um tipo de pr√©-fermento de origem italiana, caracterizado por sua consist√™ncia firme e baixa hidrata√ß√£o.</p>
                <h3>Caracter√≠sticas e Forma de Fazer (Conceitual):</h3>
                <ul>
                    <li><strong>Composi√ß√£o T√≠pica:</strong> Farinha, √°gua (geralmente 45-60% da quantidade de farinha na biga) e uma pequena quantidade de fermento comercial (fresco ou seco).</li>
                    <li><strong>Preparo:</strong> Os ingredientes s√£o misturados brevemente at√© apenas incorporar, resultando numa massa relativamente seca e fragmentada.</li>
                    <li><strong>Fermenta√ß√£o:</strong> A biga fermenta por um per√≠odo longo, geralmente de 12 a 16 horas (ou at√© mais), em temperatura ambiente controlada (mais fresca, em torno de 16-18¬∞C) ou parte do tempo refrigerada.</li>
                    <li><strong>Uso:</strong> A biga maturada √© adicionada √† massa final do p√£o, contribuindo com uma porcentagem significativa da farinha total da receita.</li>
                    <li><strong>Benef√≠cios:</strong> Desenvolve acidez l√°tica moderada, o que contribui para um sabor mais complexo e levemente adocicado, melhora a for√ßa da massa (extensibilidade), a estrutura do miolo (alv√©olos maiores e irregulares) e a durabilidade do p√£o. √â comum em p√£es italianos como Ciabatta e alguns tipos de Panettone.</li>
                </ul>
                <h3>Modo de Fazer (Passo a Passo - Exemplo de Biga a 50% de hidrata√ß√£o):</h3>
                <ol>
                    <li><strong>Ingredientes para a Biga:</strong>
                        <ul>
                            <li>200g de farinha de trigo forte (T65 ou espec√≠fica para p√£o)</li>
                            <li>100g de √°gua fria (aproximadamente 15-18¬∞C)</li>
                            <li>0.2g - 0.4g de fermento biol√≥gico seco instant√¢neo (FSI) (uma pitada muito pequena) OU 0.6g - 1.2g de fermento fresco.</li>
                        </ul>
                    </li>
                    <li><strong>Mistura:</strong> Numa tigela, coloque a farinha e o fermento. Adicione a √°gua. Misture com uma colher ou com as m√£os apenas at√© que a farinha absorva a √°gua e n√£o haja farinha seca vis√≠vel. A massa ser√° bastante seca, irregular e n√£o homog√©nea. N√£o precisa de sovar.</li>
                    <li><strong>Fermenta√ß√£o:</strong> Transfira a massa para um recipiente com tampa (n√£o totalmente selado) ou cubra a tigela com pel√≠cula aderente. Deixe fermentar em temperatura ambiente fresca (idealmente 16-18¬∞C) por 12 a 16 horas. Se a temperatura ambiente for mais alta, pode ser necess√°rio reduzir o tempo ou refrigerar parte do per√≠odo ap√≥s uma fermenta√ß√£o inicial de 1-2 horas em temperatura ambiente.</li>
                    <li><strong>Aspeto Final:</strong> A biga maturada ter√° aumentado de volume (n√£o necessariamente duplicado como uma massa normal), ter√° um aroma alco√≥lico e ligeiramente √°cido, e ao ser partida, mostrar√° uma estrutura interna com alguns alv√©olos.</li>
                    <li><strong>Uso:</strong> Desfa√ßa a biga em peda√ßos e adicione-a aos restantes ingredientes da massa final do p√£o conforme a receita.</li>
                </ol>
            `,
            poolish_content: `
                <h2 class="page-title">Poolish (Pr√©-Fermento L√≠quido)</h2>
                <p>O Poolish √© um pr√©-fermento de origem polonesa, popularizado na Fran√ßa, caracterizado por sua alta hidrata√ß√£o e consist√™ncia l√≠quida.</p>
                <h3>Caracter√≠sticas e Forma de Fazer (Conceitual):</h3>
                <ul>
                    <li><strong>Composi√ß√£o T√≠pica:</strong> Farinha e √°gua em partes iguais (100% de hidrata√ß√£o em rela√ß√£o √† farinha do poolish) e uma quantidade muito pequena de fermento comercial.</li>
                    <li><strong>Preparo:</strong> Os ingredientes s√£o misturados at√© obter uma massa l√≠quida e homog√™nea, similar a uma massa de panqueca.</li>
                    <li><strong>Fermenta√ß√£o:</strong> Fermenta por um per√≠odo que pode variar de algumas horas (3-4h em temperatura ambiente mais quente) at√© 12-16 horas (em temperatura ambiente mais fresca ou com parte do tempo refrigerado). O ponto ideal √© quando est√° cheio de bolhas, ativo, e prestes a come√ßar a afundar no centro.</li>
                    <li><strong>Uso:</strong> O poolish maturado √© adicionado √† massa final.</li>
                    <li><strong>Benef√≠cios:</strong> Promove a extensibilidade da massa, resultando em p√£es com bom volume e miolo mais aberto e leve. Contribui para um sabor suavemente adocicado e arom√°tico, com notas de nozes. √â frequentemente usado em baguettes e p√£es r√∫sticos.</li>
                </ul>
                <h3>Modo de Fazer (Passo a Passo - Exemplo de Poolish):</h3>
                <ol>
                    <li><strong>Ingredientes para o Poolish:</strong>
                        <ul>
                            <li>150g de farinha de trigo (T65 ou similar)</li>
                            <li>150g de √°gua (temperatura ambiente ou ligeiramente morna, 20-24¬∞C)</li>
                            <li>Uma pitada min√∫scula de fermento biol√≥gico seco instant√¢neo (FSI) (cerca de 0.1g - 0.2g) OU um pequeno fragmento (0.3g - 0.6g) de fermento fresco.</li>
                        </ul>
                    </li>
                    <li><strong>Mistura:</strong> Numa tigela, misture bem a farinha, a √°gua e o fermento at√© obter uma pasta l√≠quida e homog√©nea, sem grumos de farinha.</li>
                    <li><strong>Fermenta√ß√£o:</strong> Cubra a tigela com pel√≠cula aderente ou uma tampa. Deixe fermentar em temperatura ambiente.
                        <ul>
                            <li><strong>Fermenta√ß√£o mais r√°pida:</strong> 3-4 horas a 24-26¬∞C.</li>
                            <li><strong>Fermenta√ß√£o mais longa (prefer√≠vel para sabor):</strong> 8-12 horas a 20-22¬∞C, ou at√© 12-16 horas a 18-20¬∞C.</li>
                            <li>Pode tamb√©m fermentar por 1-2 horas em temperatura ambiente e depois refrigerar por 8-24 horas. Retire do frigor√≠fico 1-2 horas antes de usar.</li>
                        </ul>
                    </li>
                    <li><strong>Aspeto Final:</strong> O poolish estar√° pronto quando estiver cheio de bolhas na superf√≠cie, tiver aumentado de volume e come√ßar a mostrar sinais de que vai "colapsar" ou afundar ligeiramente no centro. O aroma deve ser agrad√°vel, levemente alco√≥lico e frutado.</li>
                    <li><strong>Uso:</strong> Adicione todo o poolish aos restantes ingredientes da massa final do p√£o conforme a receita.</li>
                </ol>
            `,
            pate_fermentee_content: `
                <h2 class="page-title">P√¢te Ferment√©e (Massa Velha)</h2>
                <p>A P√¢te Ferment√©e, que em franc√™s significa literalmente "massa fermentada" ou "massa velha", √© simplesmente um peda√ßo de massa de p√£o j√° pronta (farinha, √°gua, sal e fermento) de uma batelada anterior, que √© reservado e adicionado √† pr√≥xima massa.</p>
                <h3>Caracter√≠sticas e Forma de Fazer (Conceitual):</h3>
                <ul>
                    <li><strong>Composi√ß√£o:</strong> √â uma massa de p√£o completa, contendo todos os ingredientes b√°sicos.</li>
                    <li><strong>Preparo/Obten√ß√£o:</strong> Retira-se uma por√ß√£o da massa ap√≥s a primeira fermenta√ß√£o (ou mesmo ap√≥s a sova) de um p√£o que se est√° a fazer.</li>
                    <li><strong>Armazenamento:</strong> Pode ser refrigerada por 1 a 3 dias, permitindo que desenvolva mais sabor. Deve ser trazida √† temperatura ambiente antes de ser incorporada na nova massa.</li>
                    <li><strong>Uso:</strong> √â incorporada √† nova massa durante a fase de mistura, geralmente representando de 10% a 50% do peso da farinha da nova receita.</li>
                    <li><strong>Benef√≠cios:</strong> Adiciona complexidade de sabor (devido √† fermenta√ß√£o prolongada), melhora a estrutura do gl√∫ten e a textura do miolo, e pode aumentar a vida de prateleira do p√£o. √â uma t√©cnica vers√°til, pois pode ser derivada de quase qualquer tipo de massa de p√£o.</li>
                </ul>
                <h3>Modo de Fazer (Passo a Passo):</h3>
                <ol>
                    <li><strong>Obten√ß√£o:</strong> Ao fazer uma receita de p√£o (por exemplo, um p√£o branco simples), ap√≥s a sova e antes da primeira fermenta√ß√£o em bloco, retire uma por√ß√£o da massa. A quantidade pode variar, mas geralmente entre 20% a 40% do peso total da farinha da receita <em>original</em> √© uma boa refer√™ncia para a quantidade de p√¢te ferment√©e a ser usada numa <em>futura</em> receita. (Ex: Se a sua receita original usa 500g de farinha, voc√™ pode guardar 100g a 200g de massa como p√¢te ferment√©e).</li>
                    <li><strong>Primeira Fermenta√ß√£o (Opcional para a P√¢te Ferment√©e):</strong> Pode deixar esta por√ß√£o de massa fermentar ligeiramente em temperatura ambiente por 30-60 minutos, ou pode refriger√°-la diretamente.</li>
                    <li><strong>Armazenamento:</strong> Coloque a p√¢te ferment√©e num recipiente levemente untado com √≥leo e com tampa, ou num saco de congela√ß√£o. Guarde no frigor√≠fico por at√© 3 dias. A massa continuar√° a fermentar lentamente e a desenvolver sabor.</li>
                    <li><strong>Preparo para Uso:</strong> Retire a p√¢te ferment√©e do frigor√≠fico cerca de 1-2 horas antes de fazer a nova massa de p√£o, para que atinja a temperatura ambiente.</li>
                    <li><strong>Incorpora√ß√£o:</strong> Corte ou rasgue a p√¢te ferment√©e em peda√ßos pequenos. Adicione-a aos ingredientes da nova massa durante a fase de mistura, geralmente junto com a farinha e a √°gua. Ajuste a quantidade de fermento e sal da nova receita, se necess√°rio, pois a p√¢te ferment√©e j√° cont√©m esses ingredientes (embora em p√£es caseiros, muitas vezes n√£o se faz um ajuste rigoroso se a quantidade de p√¢te ferment√©e n√£o for excessiva).</li>
                    <li><strong>Proceda com a Nova Receita:</strong> Sove, fermente e asse a nova massa de p√£o como faria normalmente.</li>
                </ol>
            `,
            esponja_content: `
                <h2 class="page-title">Esponja (Pr√©-Fermento R√°pido)</h2>
                <p>A Esponja √© um tipo de pr√©-fermento que geralmente envolve a mistura de uma parte da farinha total da receita, todo ou parte do l√≠quido, e todo o fermento. √â mais comum em receitas de p√£es enriquecidos ou quando se deseja acelerar um pouco o processo de desenvolvimento de sabor em compara√ß√£o com um m√©todo direto simples.</p>
                <h3>Caracter√≠sticas e Forma de Fazer (Conceitual):</h3>
                <ul>
                    <li><strong>Composi√ß√£o T√≠pica:</strong> Uma por√ß√£o da farinha da receita, uma por√ß√£o do l√≠quido (√°gua, leite), e a quantidade total de fermento (ou uma grande parte dele). √Äs vezes, um pouco de a√ß√∫car pode ser adicionado para alimentar o fermento.</li>
                    <li><strong>Preparo:</strong> Os ingredientes da esponja s√£o misturados at√© formar uma massa que pode variar de relativamente l√≠quida a mais pastosa, dependendo da receita.</li>
                    <li><strong>Fermenta√ß√£o:</strong> A esponja fermenta por um per√≠odo mais curto em compara√ß√£o com biga ou poolish, geralmente de 30 minutos a algumas horas, em temperatura ambiente. O objetivo √© que ela fique visivelmente ativa, borbulhante e aerada.</li>
                    <li><strong>Uso:</strong> A esponja fermentada √© ent√£o combinada com o restante dos ingredientes da receita (farinha, sal, a√ß√∫car, gorduras, etc.) para formar a massa final.</li>
                    <li><strong>Benef√≠cios:</strong> Ajuda a ativar o fermento vigorosamente, pode melhorar a textura e o sabor do p√£o (embora geralmente menos complexo que os pr√©-fermentos de longa dura√ß√£o), e pode ajudar a condicionar a farinha. √â comum em p√£es doces, p√£es de hamb√∫rguer e algumas receitas de p√£o de forma.</li>
                </ul>
                <h3>Modo de Fazer (Passo a Passo - Exemplo Gen√©rico):</h3>
                <ol>
                    <li><strong>Ingredientes para a Esponja (Exemplo):</strong>
                        <ul>
                            <li>100g de farinha de trigo (parte da farinha total da receita)</li>
                            <li>100ml de √°gua ou leite morno (parte do l√≠quido total da receita, aprox. 35-40¬∞C)</li>
                            <li>Toda a quantidade de fermento biol√≥gico (seco ou fresco) indicada na receita principal.</li>
                            <li>Opcional: 1 colher de ch√° de a√ß√∫car (para alimentar o fermento, se a receita principal n√£o tiver muito a√ß√∫car).</li>
                        </ul>
                    </li>
                    <li><strong>Mistura:</strong> Numa tigela, dissolva o fermento no l√≠quido morno (com o a√ß√∫car, se usar). Deixe repousar por 5-10 minutos at√© espumar, se estiver a usar fermento seco ativo. Se for FSI, pode misturar diretamente com a farinha. Adicione a farinha da esponja e misture bem at√© formar uma massa homog√©nea, que pode ser l√≠quida ou pastosa.</li>
                    <li><strong>Fermenta√ß√£o:</strong> Cubra a tigela com um pano ou pel√≠cula aderente. Deixe fermentar em local morno (25-30¬∞C) por um per√≠odo que pode variar de 30 minutos a 1-2 horas, dependendo da quantidade de fermento e da temperatura.</li>
                    <li><strong>Aspeto Final:</strong> A esponja estar√° pronta quando estiver visivelmente aerada, cheia de bolhas, tiver aumentado de volume e apresentar um aroma fermentado agrad√°vel. Pode at√© come√ßar a afundar ligeiramente no centro, indicando pico de atividade.</li>
                    <li><strong>Uso:</strong> Adicione a esponja fermentada aos restantes ingredientes da receita principal (o restante da farinha, sal, a√ß√∫car, gorduras, ovos, etc.). Misture e sove conforme as instru√ß√µes da receita para formar a massa final do p√£o.</li>
                </ol>
            `,
            creme_confeiteiro_detalhado_content: `
                <h2 class="page-title">1. Creme de Confeiteiro (Cr√®me P√¢tissi√®re)</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme cl√°ssico da confeitaria francesa, espesso, rico e aveludado. √â uma base fundamental para muitas outras prepara√ß√µes.</p>
                <p><strong>Ingredientes Principais:</strong> Leite, gemas de ovo, a√ß√∫car, amido de milho (ou farinha) e baunilha.</p>
                <h3>Modo de Preparo Detalhado:</h3>
                <ol>
                    <li><strong>Preparar a Mistura de Gemas:</strong> Numa tigela m√©dia, misture bem as gemas com o amido de milho e cerca de metade do a√ß√∫car, utilizando um batedor de arame (fouet) at√© obter uma mistura lisa e p√°lida.</li>
                    <li><strong>Aquecer o Leite:</strong> Numa panela m√©dia, coloque o leite, a restante metade do a√ß√∫car e a vagem de baunilha (aberta e raspada, ou extrato/ess√™ncia de baunilha). Leve ao lume m√©dio at√© come√ßar a ferver (pequenas bolhas nas laterais da panela). N√£o deixe ferver em cach√£o.</li>
                    <li><strong>Temperagem das Gemas:</strong> Retire o leite do lume. Verta lentamente, em fio, cerca de metade do leite quente sobre a mistura de gemas, mexendo constantemente com o batedor de arame. Este processo (temperagem) aumenta gradualmente a temperatura das gemas, evitando que cozinhem e formem grumos.</li>
                    <li><strong>Cozinhar o Creme:</strong> Verta a mistura de gemas temperadas de volta para a panela com o restante leite. Leve novamente ao lume brando ou m√©dio-baixo. Cozinhe, mexendo constantemente com o batedor de arame, raspando bem o fundo e os cantos da panela para n√£o agarrar nem formar grumos. Continue a mexer at√© o creme engrossar e come√ßar a borbulhar. Deixe cozinhar por mais 1-2 minutos ap√≥s levantar fervura, para cozinhar o amido e eliminar o sabor residual.</li>
                    <li><strong>Finalizar e Arrefecer:</strong> Retire o creme do lume. Se estiver a usar manteiga, adicione-a agora, cortada em cubos, e misture at√© incorporar completamente (isto adiciona brilho e suavidade). Se estiver a usar extrato de baunilha e n√£o a vagem, adicione-o neste momento.</li>
                    <li>Transfira o creme imediatamente para uma tigela limpa ou um tabuleiro raso. Cubra diretamente a superf√≠cie do creme com pel√≠cula aderente, pressionando levemente para que a pel√≠cula toque em todo o creme. Isto evita a forma√ß√£o de uma pele na superf√≠cie.</li>
                    <li>Deixe arrefecer √† temperatura ambiente e depois leve ao frigor√≠fico por pelo menos 2-3 horas, ou at√© estar completamente frio e firme.</li>
                    <li><strong>Antes de Usar:</strong> Ap√≥s arrefecido, o creme pode estar bastante firme. Retire-o do frigor√≠fico e bata-o vigorosamente com um batedor de arame ou na batedeira com a p√° (raquete) em velocidade baixa/m√©dia at√© ficar liso, cremoso e com a consist√™ncia desejada para utiliza√ß√£o.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio de √©clairs (bombas), profiteroles, mil-folhas, tartes de fruta frescas, sonhos, bolas de Berlim, croissants recheados, bolos e como base para outros cremes (ex: Cr√®me Diplomate, Cr√®me Mousseline).</p>
                <h4>Varia√ß√µes Comuns:</h4>
                <ul>
                    <li><strong>Chocolate:</strong> Ap√≥s retirar o creme do lume (passo 5), adicione chocolate de boa qualidade picado (cerca de 100-150g para a receita base) e mexa at√© derreter e incorporar completamente.</li>
                    <li><strong>Caf√©:</strong> Infusione gr√£os de caf√© no leite quente ou adicione 1-2 colheres de sopa de caf√© instant√¢neo de boa qualidade dissolvido num pouco de √°gua quente ao creme finalizado.</li>
                    <li><strong>C√≠tricos:</strong> Adicione raspas de lim√£o ou laranja ao leite durante o aquecimento. Pode tamb√©m adicionar um pouco de sumo fresco ao creme j√° pronto e arrefecido, ajustando a consist√™ncia se necess√°rio.</li>
                </ul>
            `,
            chantilly_content: `
                <h2 class="page-title">2. Chantilly (Cr√®me Chantilly)</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme leve e aerado, feito basicamente de natas batidas com a√ß√∫car.</p>
                <p><strong>Ingredientes Principais:</strong> Natas frescas (com alto teor de gordura, m√≠nimo 30-35%, idealmente 35%), a√ß√∫car (geralmente em p√≥/confeiteiro para melhor dissolu√ß√£o) e extrato de baunilha (opcional).</p>
                <h3>Modo de Preparo Detalhado:</h3>
                <ol>
                    <li><strong>Arrefecer Tudo:</strong> Certifique-se de que as natas est√£o bem frias (diretamente do frigor√≠fico). √â √∫til tamb√©m arrefecer a tigela da batedeira e as varas de bater no frigor√≠fico ou congelador por 10-15 minutos antes de come√ßar.</li>
                    <li><strong>Bater as Natas:</strong> Verta as natas frias na tigela arrefecida. Comece a bater em velocidade m√©dia-baixa, aumentando gradualmente para m√©dia-alta √† medida que as natas come√ßam a engrossar.</li>
                    <li><strong>Adicionar A√ß√∫car e Baunilha:</strong> Quando as natas come√ßarem a ganhar volume e a deixar rastos suaves do batedor (picos moles), adicione o a√ß√∫car em p√≥ peneirado, aos poucos, e o extrato de baunilha (se usar).</li>
                    <li><strong>Atingir Picos Firmes:</strong> Continue a bater em velocidade m√©dia-alta at√© que o creme forme picos firmes. Isto significa que, ao levantar as varas da batedeira, o pico de creme formado mant√©m a sua forma e n√£o cai. Tenha cuidado para n√£o bater em excesso, pois as natas podem talhar e transformar-se em manteiga.</li>
                    <li><strong>Utiliza√ß√£o:</strong> Use imediatamente ou guarde no frigor√≠fico, coberto, por algumas horas. Se guardado, pode precisar de ser ligeiramente batido √† m√£o antes de usar para recuperar a textura.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Cobertura e recheio de bolos, tortas, sobremesas, acompanhamento de frutas frescas, caf√©s, chocolates quentes, decora√ß√£o de cupcakes e √©clairs.</p>
            `,
            buttercream_content: `
                <h2 class="page-title">3. Creme de Manteiga (Buttercream)</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme rico e vers√°til, muito usado para cobrir e rechear bolos, bem como para decora√ß√µes elaboradas. Existem v√°rios tipos.</p>
                <p><strong>Ingredientes Principais:</strong> Manteiga, a√ß√∫car (geralmente em p√≥/confeiteiro), um pouco de l√≠quido (leite, natas) e aromatizantes (baunilha, chocolate, etc.). Algumas vers√µes usam ovos ou merengue.</p>
                <h3>Tipos Principais e Preparo Detalhado:</h3>
                <h4>Americano (Simples):</h4>
                <ol>
                    <li><strong>Bater a Manteiga:</strong> Numa tigela, bata manteiga sem sal amolecida (√† temperatura ambiente, mas n√£o derretida) com a batedeira em velocidade m√©dia-alta at√© ficar clara e fofa (cerca de 3-5 minutos).</li>
                    <li><strong>Adicionar A√ß√∫car:</strong> Adicione gradualmente a√ß√∫car em p√≥ peneirado (icing sugar/confectioners' sugar), batendo em velocidade baixa at√© incorporar, e depois aumente para m√©dia-alta. Raspe as laterais da tigela ocasionalmente.</li>
                    <li><strong>Adicionar L√≠quido e Sabor:</strong> Adicione uma pequena quantidade de leite ou natas (1-2 colheres de sopa por cada 250g de manteiga, aproximadamente) e extrato de baunilha (ou outro sabor). Bata at√© ficar leve e homog√©neo. Ajuste a consist√™ncia com mais a√ß√∫car (para engrossar) ou mais l√≠quido (para diluir).</li>
                </ol>
                <h4>Merengue Su√≠√ßo:</h4>
                <ol>
                    <li><strong>Aquecer Claras e A√ß√∫car:</strong> Numa tigela resistente ao calor, sobre uma panela com √°gua a ferver em lume brando (banho-maria, sem que a tigela toque na √°gua), misture claras de ovo e a√ß√∫car granulado. Mexa constantemente com um batedor de arame at√© o a√ß√∫car dissolver completamente e a mistura atingir cerca de 70-75¬∞C (ou at√© n√£o sentir gr√£os de a√ß√∫car ao esfregar um pouco entre os dedos).</li>
                    <li><strong>Bater o Merengue:</strong> Transfira a mistura para a tigela da batedeira (limpa e sem gordura). Bata em velocidade m√©dia-alta at√© formar um merengue brilhante, com picos firmes, e a tigela estar fria ao toque (pode levar 10-15 minutos).</li>
                    <li><strong>Adicionar Manteiga:</strong> Com a batedeira em velocidade m√©dia-baixa, adicione manteiga sem sal amolecida (cortada em cubos) aos poucos, um cubo de cada vez, esperando que cada um se incorpore antes de adicionar o seguinte. A mistura pode parecer talhada ou separada em algum momento ‚Äì continue a bater, que ela voltar√° a ficar homog√©nea e cremosa.</li>
                    <li><strong>Finalizar:</strong> Depois de toda a manteiga incorporada, adicione extrato de baunilha ou outro saborizante. Bata por mais alguns minutos at√© o creme estar leve e sedoso.</li>
                </ol>
                <h4>Merengue Italiano:</h4>
                <ol>
                    <li><strong>Preparar Calda de A√ß√∫car:</strong> Numa panela pequena, misture a√ß√∫car granulado com uma pequena quantidade de √°gua (suficiente para humedecer o a√ß√∫car). Leve ao lume m√©dio-alto, sem mexer, at√© atingir 115-118¬∞C (ponto de bola mole).</li>
                    <li><strong>Bater as Claras:</strong> Enquanto a calda aquece, comece a bater claras de ovo na batedeira em velocidade m√©dia at√© formarem picos moles.</li>
                    <li><strong>Incorporar a Calda:</strong> Com a batedeira em velocidade m√©dia-baixa, verta a calda de a√ß√∫car quente em fio fino e cont√≠nuo sobre as claras em movimento, evitando que a calda caia diretamente sobre as varas da batedeira.</li>
                    <li><strong>Bater o Merengue:</strong> Aumente a velocidade para m√©dia-alta e continue a bater at√© o merengue estar brilhante, com picos firmes, e a tigela arrefecer (pode levar 10-15 minutos).</li>
                    <li><strong>Adicionar Manteiga e Finalizar:</strong> Siga os passos 3 e 4 do Merengue Su√≠√ßo para adicionar a manteiga e finalizar.</li>
                </ol>
                <h4>Franc√™s (P√¢te √† Bombe):</h4>
                <ol>
                    <li><strong>Preparar Calda de A√ß√∫car:</strong> Como no Merengue Italiano, prepare uma calda de a√ß√∫car a 115-118¬∞C.</li>
                    <li><strong>Bater as Gemas:</strong> Enquanto a calda aquece, bata gemas de ovo na batedeira at√© ficarem p√°lidas e espessas.</li>
                    <li><strong>Incorporar a Calda:</strong> Com a batedeira em velocidade m√©dia-baixa, verta a calda quente em fio sobre as gemas batidas.</li>
                    <li><strong>Bater a P√¢te √† Bombe:</strong> Aumente a velocidade para m√©dia-alta e bata at√© a mistura (p√¢te √† bombe) arrefecer completamente e ficar espessa e volumosa.</li>
                    <li><strong>Adicionar Manteiga e Finalizar:</strong> Com a batedeira em velocidade m√©dia-baixa, adicione manteiga sem sal amolecida (cortada em cubos) aos poucos. Adicione extrato de baunilha e bata at√© ficar homog√©neo e cremoso.</li>
                </ol>
                <h4>Alem√£o (Cr√®me Mousseline com base de Confeiteiro):</h4>
                <ol>
                    <li><strong>Preparar Creme de Confeiteiro:</strong> Fa√ßa uma receita de creme de confeiteiro (ver sec√ß√£o 1) e deixe arrefecer completamente.</li>
                    <li><strong>Bater Manteiga:</strong> Numa tigela separada, bata manteiga sem sal amolecida at√© ficar muito clara e fofa.</li>
                    <li><strong>Combinar:</strong> Adicione o creme de confeiteiro arrefecido (que deve estar √† mesma temperatura aproximada da manteiga) √† manteiga batida, uma colher de cada vez, batendo bem ap√≥s cada adi√ß√£o at√© o creme ficar leve, homog√©neo e aerado.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Cobertura e recheio de bolos e cupcakes, decora√ß√µes com bico de pasteleiro.</p>
            `,
            ganache_content: `
                <h2 class="page-title">4. Ganache</h2>
                <p><strong>Descri√ß√£o:</strong> Uma mistura rica e sedosa de chocolate e natas. A sua consist√™ncia varia conforme a propor√ß√£o dos ingredientes e a temperatura.</p>
                <p><strong>Ingredientes Principais:</strong> Chocolate (negro, de leite ou branco) e natas (com teor de gordura entre 30-35%).</p>
                <h3>Modo de Preparo Detalhado:</h3>
                <ol>
                    <li><strong>Picar o Chocolate:</strong> Pique finamente o chocolate e coloque-o numa tigela resistente ao calor.</li>
                    <li><strong>Aquecer as Natas:</strong> Aque√ßa as natas numa panela pequena em lume m√©dio at√© come√ßarem a ferver nas bordas (n√£o deixe ferver em cach√£o).</li>
                    <li><strong>Verter e Repousar:</strong> Verta as natas quentes sobre o chocolate picado. Certifique-se de que todo o chocolate est√° submerso. Deixe repousar por 3-5 minutos sem mexer, para que o calor das natas derreta o chocolate.</li>
                    <li><strong>Emulsionar:</strong> Com um batedor de arame pequeno ou uma esp√°tula de silicone, comece a mexer suavemente a partir do centro da tigela, em pequenos c√≠rculos, expandindo gradualmente para as bordas. Continue a mexer at√© a mistura ficar completamente lisa, brilhante e homog√©nea. Evite incorporar muito ar.</li>
                    <li><strong>Adicionar Extras (Opcional):</strong> Se desejar, adicione uma pequena quantidade de manteiga amolecida (para brilho e suavidade extra) ou um pouco de licor, extrato de baunilha, ou caf√© sol√∫vel ap√≥s a ganache estar emulsionada.</li>
                    <li><strong>Arrefecer/Usar:</strong>
                        <ul>
                            <li><strong>Para Cobertura L√≠quida (Glac√™):</strong> Deixe arrefecer ligeiramente (at√© cerca de 30-35¬∞C) para que engrosse um pouco mas ainda flua. Verta sobre bolos ou sobremesas.</li>
                            <li><strong>Para Recheio ou Cobertura Espalhada:</strong> Deixe arrefecer √† temperatura ambiente (ou no frigor√≠fico, mexendo ocasionalmente) at√© atingir uma consist√™ncia espalh√°vel, semelhante a manteiga de amendoim.</li>
                            <li><strong>Para Trufas ou Ganache Batida:</strong> Refrigere at√© ficar firme (pode levar algumas horas). Para trufas, pode enrolar. Para ganache batida, depois de fria e firme, bata com a batedeira at√© ficar mais clara e fofa.</li>
                        </ul>
                    </li>
                </ol>
                <h4>Propor√ß√µes Comuns (Chocolate : Natas):</h4>
                <ul>
                    <li><strong>Ganache para Cobertura L√≠quida/Glac√™ Fino:</strong> 1:2 (ex: 100g chocolate para 200g natas)</li>
                    <li><strong>Ganache para Cobertura Espalhada/Recheio Macio:</strong> 1:1 (ex: 200g chocolate para 200g natas)</li>
                    <li><strong>Ganache para Recheio Firme/Trufas:</strong> 2:1 (ex: 200g chocolate para 100g natas)</li>
                    <li><em>Nota: Para chocolate de leite ou branco, geralmente usa-se uma propor√ß√£o maior de chocolate para natas (ex: 2.5:1 ou 3:1) para obter uma consist√™ncia firme, pois cont√™m mais s√≥lidos de leite e a√ß√∫car.</em></li>
                </ul>
                <p><strong>Usos Comuns:</strong> Cobertura e recheio de bolos, tortas, cupcakes, √©clairs, trufas, bombons, molho para sobremesas.</p>
            `,
            lemon_curd_content: `
                <h2 class="page-title">5. Creme de Lim√£o (Lemon Curd)</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme espesso, √°cido e doce, com um intenso sabor a lim√£o.</p>
                <p><strong>Ingredientes Principais:</strong> Sumo e raspas de lim√£o, gemas de ovo (ou ovos inteiros), a√ß√∫car e manteiga.</p>
                <h3>Modo de Preparo Detalhado:</h3>
                <ol>
                    <li><strong>Preparar os Ingredientes:</strong> Raspe a casca dos lim√µes (apenas a parte amarela, evitando a branca que √© amarga) e esprema o sumo. Peneire o sumo para remover sementes.</li>
                    <li><strong>Misturar Gemas e A√ß√∫car:</strong> Numa tigela resistente ao calor, bata as gemas (e/ou ovos inteiros, conforme a receita) com o a√ß√∫car at√© obter uma mistura p√°lida e homog√©nea.</li>
                    <li><strong>Adicionar Lim√£o:</strong> Junte as raspas e o sumo de lim√£o √† mistura de gemas e a√ß√∫car. Misture bem.</li>
                    <li><strong>Cozinhar em Banho-Maria (ou Lume Muito Brando):</strong> Coloque a tigela sobre uma panela com um pouco de √°gua a ferver em lume brando (banho-maria), certificando-se de que o fundo da tigela n√£o toca na √°gua. Cozinhe, mexendo constantemente com um batedor de arame ou colher de pau, at√© o creme engrossar o suficiente para cobrir as costas de uma colher e um tra√ßo feito com o dedo permanecer (geralmente 82-85¬∞C). Este processo pode levar 10-15 minutos. N√£o deixe ferver, para n√£o talhar as gemas.</li>
                    <li><strong>Adicionar Manteiga:</strong> Retire a tigela do lume. Adicione a manteiga fria, cortada em cubos pequenos, um ou dois cubos de cada vez, mexendo bem ap√≥s cada adi√ß√£o at√© a manteiga derreter e incorporar completamente.</li>
                    <li><strong>Coar (Opcional, mas Recomendado):</strong> Para um creme extra liso, passe o lemon curd ainda quente por um passador de rede fina para uma tigela limpa, para remover quaisquer pequenos grumos de ovo cozido ou raspas maiores.</li>
                    <li><strong>Arrefecer:</strong> Cubra a superf√≠cie do creme diretamente com pel√≠cula aderente para evitar a forma√ß√£o de pele. Deixe arrefecer √† temperatura ambiente e depois leve ao frigor√≠fico por pelo menos 2-3 horas, ou at√© estar completamente frio e firme. O curd continuar√° a engrossar √† medida que arrefece.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio de tartes (tarte de lim√£o merengada), bolos, cupcakes, scones, panquecas, para barrar em torradas.</p>
            `,
            fruit_fillings_content: `
                <h2 class="page-title">6. Recheios de Fruta (Compotas, Geleias, Coulis)</h2>
                <p><strong>Descri√ß√£o:</strong> Prepara√ß√µes √† base de frutas, que podem variar em textura de peda√ßos de fruta a pur√©s lisos.</p>
                <p><strong>Ingredientes Principais:</strong> Frutas (morangos, frutos vermelhos, ma√ß√£, p√™ssego, etc.), a√ß√∫car, por vezes sumo de lim√£o (para acidez e ajudar na gelifica√ß√£o) e espessantes como pectina ou amido de milho (para compotas mais espessas).</p>
                <h3>Modo de Preparo Detalhado (Exemplo para Compota de Frutos Vermelhos):</h3>
                <ol>
                    <li><strong>Preparar a Fruta:</strong> Lave e prepare os frutos vermelhos (morangos podem ser cortados, framboesas e mirtilos inteiros).</li>
                    <li><strong>Macerar (Opcional):</strong> Numa tigela, misture os frutos com o a√ß√∫car (a quantidade varia conforme a do√ßura da fruta e prefer√™ncia, geralmente 1 parte de a√ß√∫car para 2-4 partes de fruta em peso) e sumo de lim√£o. Deixe repousar por 30 minutos a algumas horas para que a fruta liberte os seus sucos.</li>
                    <li><strong>Cozinhar:</strong> Transfira a mistura de fruta para uma panela de fundo grosso. Leve a lume m√©dio, mexendo ocasionalmente, at√© o a√ß√∫car dissolver e a mistura come√ßar a ferver.</li>
                    <li><strong>Reduzir e Engrossar:</strong> Reduza o lume para m√©dio-baixo e cozinhe, mexendo com frequ√™ncia para n√£o agarrar, at√© a compota engrossar e atingir a consist√™ncia desejada. O tempo varia conforme a fruta e a quantidade (geralmente 15-40 minutos).
                        <ul>
                            <li><strong>Teste de Ponto:</strong> Para verificar o ponto, coloque uma pequena quantidade num prato frio; se n√£o escorrer muito, est√° pronta.</li>
                            <li><strong>Para Geleias:</strong> O processo √© similar, mas geralmente usa-se mais a√ß√∫car e pectina, e cozinha-se at√© atingir o ponto de gelifica√ß√£o (cerca de 105¬∞C).</li>
                            <li><strong>Para Coulis:</strong> Cozinhe a fruta brevemente com um pouco de a√ß√∫car (ou use crua), depois triture e coe para obter um molho liso.</li>
                        </ul>
                    </li>
                    <li><strong>Espessante (Opcional):</strong> Se desejar uma compota mais espessa rapidamente, pode dissolver uma pequena quantidade de amido de milho num pouco de √°gua fria e adicionar √† compota nos √∫ltimos minutos de cozedura, mexendo at√© engrossar.</li>
                    <li><strong>Arrefecer e Armazenar:</strong> Retire do lume, deixe arrefecer e guarde em frascos esterilizados no frigor√≠fico.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio de tortas, bolos (entre camadas), croissants, p√£es doces, folhados, topping para cheesecakes e sobremesas.</p>
            `,
            creme_belga_content: `
                <h2 class="page-title">7. Creme Belga</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme branco, suave e vers√°til, popular em muitas sobremesas e recheios de bolo, especialmente no Brasil.</p>
                <p><strong>Ingredientes Principais:</strong> Leite condensado, leite, gemas de ovo, amido de milho e, por vezes, natas ou ess√™ncia de baunilha.</p>
                <h3>Modo de Preparo Detalhado:</h3>
                <ol>
                    <li><strong>Misturar Ingredientes Secos e Gemas:</strong> Numa tigela, misture o amido de milho com um pouco do leite frio at√© dissolver. Adicione as gemas peneiradas e misture bem.</li>
                    <li><strong>Aquecer L√≠quidos:</strong> Numa panela, coloque o leite condensado, o restante do leite e a mistura de gemas com amido.</li>
                    <li><strong>Cozinhar o Creme:</strong> Leve ao lume m√©dio-baixo, mexendo constantemente com um batedor de arame ou colher de pau, raspando o fundo para n√£o agarrar. Cozinhe at√© o creme engrossar e come√ßar a borbulhar. Deixe cozinhar por mais 1-2 minutos, mexendo sempre, para cozinhar o amido.</li>
                    <li><strong>Adicionar Sabor e Natas (Opcional):</strong> Retire do lume. Se desejar, adicione ess√™ncia de baunilha. Se a receita pedir natas, podem ser incorporadas neste momento (se for para uma textura mais rica) ou depois de arrefecido e batido (para uma textura mais leve, se as natas forem batidas em chantilly).</li>
                    <li><strong>Arrefecer:</strong> Transfira para uma tigela, cubra com pel√≠cula aderente em contacto com a superf√≠cie do creme e deixe arrefecer completamente no frigor√≠fico.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio de bolos, tortas, pav√™s, sobremesas em ta√ßa. Combina bem com frutas.</p>
            `,
            creme_leite_ninho_content: `
                <h2 class="page-title">8. Creme de Leite Ninho (ou Leite em P√≥)</h2>
                <p><strong>Descri√ß√£o:</strong> Um creme muito popular, especialmente no Brasil, com o sabor caracter√≠stico do leite em p√≥.</p>
                <p><strong>Ingredientes Principais:</strong> Leite condensado, natas, leite em p√≥ (Ninho ou similar), manteiga (opcional).</p>
                <h3>Modo de Preparo Detalhado (Vers√£o Cozida):</h3>
                <ol>
                    <li><strong>Misturar Ingredientes Base:</strong> Numa panela, misture bem o leite condensado, o leite em p√≥ e a manteiga (se usar).</li>
                    <li><strong>Cozinhar:</strong> Leve ao lume brando, mexendo constantemente com uma esp√°tula ou colher de pau, raspando bem o fundo e as laterais da panela para n√£o queimar. Cozinhe at√© obter o ponto desejado ‚Äì para recheio mais mole, at√© come√ßar a desgrudar do fundo da panela (semelhante a ponto de brigadeiro mole); para recheio mais firme, cozinhe um pouco mais.</li>
                    <li><strong>Arrefecer Parcialmente:</strong> Retire do lume e deixe arrefecer um pouco, mexendo ocasionalmente para n√£o criar pel√≠cula.</li>
                    <li><strong>Incorporar Natas:</strong> Adicione as natas (sem soro, se forem de lata, ou natas frescas) e misture bem at√© obter um creme homog√©neo. Se desejar uma textura mais leve, pode usar natas batidas em chantilly e incorporar delicadamente.</li>
                    <li><strong>Refrigerar:</strong> Leve ao frigor√≠fico para firmar antes de usar.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio e cobertura de bolos, cupcakes, ovos de P√°scoa, sobremesas diversas.</p>
            `,
            doce_leite_content: `
                <h2 class="page-title">9. Doce de Leite</h2>
                <p><strong>Descri√ß√£o:</strong> Um doce espesso e caramelizado, feito a partir da cozedura lenta de leite e a√ß√∫car. Muito popular na Am√©rica Latina e tamb√©m em Portugal.</p>
                <p><strong>Ingredientes Principais:</strong> Leite integral e a√ß√∫car. Algumas receitas podem incluir bicarbonato de s√≥dio (para cor e textura) ou extrato de baunilha.</p>
                <h3>Modo de Preparo Detalhado (M√©todo Tradicional):</h3>
                <ol>
                    <li><strong>Misturar Ingredientes:</strong> Numa panela grande e de fundo grosso (para evitar que queime), misture o leite e o a√ß√∫car (geralmente na propor√ß√£o de 1 litro de leite para 200-250g de a√ß√∫car, ajuste a gosto). Se usar, adicione uma pitada de bicarbonato de s√≥dio e a baunilha.</li>
                    <li><strong>Cozinhar Lentamente:</strong> Leve ao lume m√©dio-baixo. Deixe levantar fervura, mexendo ocasionalmente para dissolver o a√ß√∫car.</li>
                    <li><strong>Reduzir e Mexer:</strong> Assim que ferver, reduza o lume para o m√≠nimo poss√≠vel, de forma a que a mistura borbulhe muito suavemente. Cozinhe por um longo per√≠odo (pode levar de 1.5 a 3 horas, ou mais, dependendo da quantidade), mexendo frequentemente com uma colher de pau, especialmente o fundo da panela, para evitar que agarre e queime.</li>
                    <li><strong>Observar a Mudan√ßa de Cor e Consist√™ncia:</strong> √Ä medida que a √°gua do leite evapora, a mistura ir√° reduzir de volume, engrossar e escurecer, adquirindo uma cor de caramelo.</li>
                    <li><strong>Ponto:</strong> O doce de leite est√° pronto quando atinge a cor e a consist√™ncia desejadas. Para um doce de leite mais cremoso para recheios, retire um pouco antes de ficar excessivamente grosso. Um teste √© colocar uma pequena por√ß√£o num prato frio; se n√£o escorrer muito, est√° no ponto.</li>
                    <li><strong>Arrefecer:</strong> Retire do lume e deixe arrefecer, mexendo ocasionalmente enquanto arrefece para evitar a forma√ß√£o de uma pel√≠cula grossa. Guarde em frascos esterilizados no frigor√≠fico.</li>
                </ol>
                <h3>Modo de Preparo (Com Leite Condensado na Panela de Press√£o - <strong>ATEN√á√ÉO: M√âTODO COM RISCOS SE N√ÉO FOR FEITO CORRETAMENTE</strong>):</h3>
                <ol>
                    <li>Retire o r√≥tulo da lata de leite condensado.</li>
                    <li>Coloque a lata fechada numa panela de press√£o. Cubra completamente com √°gua (a √°gua deve ultrapassar a lata em pelo menos 2-3 dedos).</li>
                    <li>Feche a panela de press√£o e leve ao lume alto. Quando come√ßar a apitar (ganhar press√£o), reduza o lume para o m√≠nimo e cozinhe por 30-45 minutos (30 min para mais claro e mole, 45 min para mais escuro e firme).</li>
                    <li><strong>MUITO IMPORTANTE:</strong> Desligue o lume e deixe a press√£o sair <strong>COMPLETAMENTE</strong> da panela <strong>ANTES</strong> de abrir. Nunca tente arrefecer a panela debaixo de √°gua fria.</li>
                    <li>Retire a lata com cuidado (estar√° muito quente) e deixe-a arrefecer <strong>COMPLETAMENTE</strong> antes de abrir. Abrir a lata quente pode causar queimaduras graves devido √† press√£o interna.</li>
                </ol>
                <p><strong>Usos Comuns:</strong> Recheio de bolos, tortas, churros, croissants, p√£es doces, alfajores, ou consumido puro.</p>
            `
        };

        const defaultBasicRecipesData = [
            { name: "P√£o Carteira", category: "basicos", description: "P√£o pequeno e pr√°tico, ideal para lanches r√°pidos.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua", percentage: 58, weightOriginal: "290g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1, weightOriginal: "5g"}, {item: "A√ß√∫car", percentage: 4, weightOriginal: "20g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "√ìleo Vegetal", percentage: 5, weightOriginal: "25g"}] }, instructions: ["Misture os ingredientes secos.", "Adicione os l√≠quidos aos poucos, sovando at√© obter uma massa lisa.", "Primeira fermenta√ß√£o: 1 hora ou at√© dobrar.", "Divida em por√ß√µes de 50-60g, modele em formato oval achatado.", "Dobre ao meio como uma carteira.", "Segunda fermenta√ß√£o: 30-40 minutos.", "Asse em forno pr√©-aquecido a 200¬∞C por 15-20 minutos."], tips: ["Pincele com gema para dourar.", "Pode ser recheado antes de dobrar."] },
            { name: "P√£o de Forma", category: "basicos", description: "O cl√°ssico p√£o para sandu√≠ches e torradas, com miolo macio.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 60, weightOriginal: "300ml"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "A√ß√∫car", percentage: 5, weightOriginal: "25g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "Manteiga Amolecida", percentage: 6, weightOriginal: "30g"}] }, instructions: ["Misture os ingredientes, sovando bem at√© a massa ficar el√°stica.", "Primeira fermenta√ß√£o: 1 hora.", "Modele em um ret√¢ngulo, enrole como um rocambole e coloque em forma de p√£o de forma untada.", "Segunda fermenta√ß√£o: 45-60 minutos, at√© quase atingir a borda da forma.", "Asse em forno pr√©-aquecido a 180¬∞C por 30-35 minutos."], tips: ["Para uma casca mais macia, pincele com manteiga derretida ap√≥s assar.", "Deixe esfriar completamente antes de fatiar."] },
            { name: "P√£o de Ervas", category: "basicos", description: "P√£o saboroso com um mix de ervas finas, perfeito para acompanhar refei√ß√µes.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua Morna", percentage: 60, weightOriginal: "300ml"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Azeite de Oliva", percentage: 6, weightOriginal: "30ml"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "Mix de Ervas Finas Secas (or√©gano, manjeric√£o, tomilho, alecrim)", percentage: null, weightOriginal: "2 colheres de sopa"}] }, instructions: ["Misture todos os ingredientes e sove at√© obter uma massa homog√™nea.", "Primeira fermenta√ß√£o: 1 hora.", "Modele no formato desejado (fil√£o, bolas).", "Segunda fermenta√ß√£o: 40-50 minutos.", "Fa√ßa cortes na superf√≠cie e asse em forno pr√©-aquecido a 200¬∞C por 25-30 minutos."], tips: ["Use ervas frescas picadas para um sabor mais intenso.", "Pode adicionar queijo parmes√£o ralado √† massa."] },
            { name: "P√£o Joelho", category: "basicos", description: "Salgado popular, uma massa macia recheada, geralmente com queijo e presunto.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 50, weightOriginal: "250ml"}, {item: "Ovo", percentage: 10, weightOriginal: "1 unidade (50g)"}, {item: "A√ß√∫car", percentage: 3, weightOriginal: "1 colher de sopa (15g)"}, {item: "Sal", percentage: 1, weightOriginal: "1 colher de ch√° (5g)"}, {item: "Fermento Biol√≥gico Seco", percentage: 2, weightOriginal: "10g"}, {item: "Manteiga Amolecida", percentage: 6, weightOriginal: "2 colheres de sopa (30g)"}], recheio: [{item:"Queijo Mussarela Fatiado", weightOriginal:"200g"}, {item:"Presunto Fatiado", weightOriginal:"200g"}, {item:"Or√©gano", weightOriginal:"a gosto"}] }, instructions: ["Prepare a massa misturando todos os ingredientes e sovando.", "Primeira fermenta√ß√£o: 45 minutos.", "Abra a massa em um ret√¢ngulo, distribua o recheio.", "Enrole como rocambole, corte fatias de 2-3 cm.", "Segunda fermenta√ß√£o: 30 minutos.", "Pincele com gema e asse a 180¬∞C por 20-25 minutos."], tips: ["Varie os recheios: frango desfiado, calabresa, etc.", "Feche bem as bordas para o recheio n√£o vazar."] },
            { name: "P√£o Sovado", category: "basicos", description: "P√£o caseiro tradicional, conhecido pela sua maciez e por exigir uma boa sova.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "1000g", isBaseFlour: true}, {item: "Leite Morno", percentage: 40, weightOriginal: "400ml"}, {item: "Ovos", percentage: 10, weightOriginal: "2 unidades (100g)"}, {item: "A√ß√∫car", percentage: 6, weightOriginal: "4 colheres de sopa (60g)"}, {item: "Sal", percentage: 1.5, weightOriginal: "1 colher de sopa (15g)"}, {item: "Fermento Biol√≥gico Fresco", percentage: 3, weightOriginal: "30g"}, {item: "Manteiga ou Margarina Amolecida", percentage: 4.5, weightOriginal: "3 colheres de sopa (45g)"}] }, instructions: ["Misture os ingredientes, sove por pelo menos 15-20 minutos at√© a massa ficar bem el√°stica e lisa.", "Primeira fermenta√ß√£o: 1 hora.", "Modele os p√£es no formato desejado.", "Segunda fermenta√ß√£o: 40-60 minutos.", "Asse em forno pr√©-aquecido a 180¬∞C por cerca de 35-40 minutos."], tips: ["A sova longa √© o segredo deste p√£o.", "Pode ser feito em formato de tran√ßa."] },
            { name: "Broa de Milho com Erva Doce", category: "basicos", description: "Broa tradicional brasileira, com fub√° e o toque da erva-doce.", ingredients: { finalDough: [{item: "Fub√° Mimoso", percentage: 50, weightOriginal: "250g", isBaseFlourPart: true}, {item: "Farinha de Trigo", percentage: 50, weightOriginal: "250g", isBaseFlourPart: true}, {item: "Leite Morno", percentage: 40, weightOriginal: "200ml"}, {item: "Ovos", percentage: 20, weightOriginal: "2 unidades (100g)"}, {item: "A√ß√∫car", percentage: 30, weightOriginal: "150g"}, {item: "Manteiga Derretida", percentage: 10, weightOriginal: "50g"}, {item: "Fermento em P√≥ Qu√≠mico", percentage: null, weightOriginal: "1 colher de sopa"}, {item: "Erva-Doce", percentage: null, weightOriginal: "1 colher de sopa"}, {item: "Sal", percentage: null, weightOriginal: "1 pitada"}] }, instructions: ["Misture os ingredientes secos.", "Adicione os ovos, leite e manteiga, misturando bem.", "A massa fica mais mole, n√£o precisa sovar.", "Despeje em forma untada e enfarinhada.", "Asse em forno pr√©-aquecido a 180¬∞C por 30-40 minutos."], tips: ["Polvilhe fub√° por cima antes de assar para um visual r√∫stico.", "Deliciosa com caf√©."] },
            { name: "Palito de Calabresa", category: "basicos", description: "Petisco saboroso, massa de p√£o enrolada com calabresa.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "300g", isBaseFlour: true}, {item: "√Ågua Morna", percentage: 50, weightOriginal: "150ml"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.67, weightOriginal: "5g"}, {item: "Azeite", percentage: 6.67, weightOriginal: "2 colheres de sopa (20ml)"}, {item: "Sal", percentage: 0.83, weightOriginal: "1/2 colher de ch√° (2.5g)"}], recheio: [{item:"Lingui√ßa Calabresa mo√≠da ou picada fina", weightOriginal:"150g"}, {item:"Queijo Parmes√£o ralado (opcional)", weightOriginal:"para polvilhar"}] }, instructions: ["Prepare a massa e deixe crescer por 30 minutos.", "Abra a massa fina, espalhe a calabresa.", "Enrole e corte em palitos.", "Deixe crescer por mais 20 minutos.", "Asse a 200¬∞C por 15-20 minutos."], tips: ["Pincele com azeite antes de assar.", "Pode adicionar pimenta calabresa ao recheio."] },
            { name: "Massa Doce B√°sica", category: "basicos", description: "Uma massa vers√°til para diversos p√£es doces, como roscas e p√£ezinhos recheados.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 40, weightOriginal: "200ml"}, {item: "Ovos", percentage: 20, weightOriginal: "2 unidades (100g)"}, {item: "A√ß√∫car", percentage: 20, weightOriginal: "100g"}, {item: "Manteiga Amolecida", percentage: 15, weightOriginal: "75g"}, {item: "Fermento Biol√≥gico Seco", percentage: 2, weightOriginal: "10g"}, {item: "Sal", percentage: 0.5, weightOriginal: "1 pitada (2.5g)"}, {item:"Raspas de Lim√£o ou Laranja (opcional)", weightOriginal:"a gosto"}] }, instructions: ["Misture os ingredientes e sove at√© obter uma massa macia e el√°stica.", "Primeira fermenta√ß√£o: 1 hora.", "Use para modelar roscas, sonhos, p√£es recheados, etc.", "Segunda fermenta√ß√£o: conforme a receita espec√≠fica.", "Asse de acordo com o tipo de p√£o doce."], tips: ["Esta massa pode ser a base para muitas cria√ß√µes.", "Aromatize com baunilha, canela ou outras especiarias."] },
            { name: "P√£o de Leite (B√°sico)", category: "basicos", description: "P√£ezinhos muito macios e levemente adocicados, perfeitos para o caf√© da manh√£ ou lanche.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 50, weightOriginal: "250ml"}, {item: "A√ß√∫car", percentage: 10, weightOriginal: "50g"}, {item: "Manteiga Amolecida", percentage: 10, weightOriginal: "50g"}, {item: "Ovo", percentage: 10, weightOriginal: "1 unidade (50g)"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Sal", percentage: 1, weightOriginal: "5g"}] }, instructions: ["Misture todos os ingredientes e sove bem at√© a massa ficar lisa e el√°stica.", "Primeira fermenta√ß√£o: 1 hora.", "Divida em por√ß√µes de 50g, modele bolinhas.", "Segunda fermenta√ß√£o: 30-40 minutos em assadeira untada.", "Pincele com gema e asse em forno pr√©-aquecido a 180¬∞C por 20-25 minutos."], tips: ["Para um brilho extra, pincele com leite condensado dilu√≠do em √°gua ap√≥s assar.", "√ìtimo para sandu√≠ches pequenos."] },
            { name: "Lua de Mel", category: "basicos", description: "Doce tradicional de padaria, uma massa fofa recheada com creme e coberta com coco.", ingredients: { massa: [{item:"Usar a 'Massa Doce B√°sica'"}], recheio: [{item:"Creme de Confeiteiro (ver receita)"}], cobertura: [{item:"Leite Condensado", weightOriginal:"para pincelar"}, {item:"Coco Ralado Seco", weightOriginal:"para polvilhar"}] }, instructions: ["Prepare a Massa Doce B√°sica.", "Ap√≥s a primeira fermenta√ß√£o, divida em por√ß√µes, abra discos, recheie com o Creme de Confeiteiro frio e feche formando meias-luas ou bolinhas.", "Deixe crescer novamente.", "Asse at√© dourar. Ap√≥s esfriar um pouco, pincele com leite condensado e passe no coco ralado."], tips: ["Certifique-se de que o creme esteja frio para n√£o derreter a massa.", "Varie o recheio com doce de leite ou goiabada."] },
            { name: "Sonho", category: "basicos", description: "Cl√°ssico doce frito ou assado, recheado com creme e polvilhado com a√ß√∫car.", ingredients: { massa: [{item:"Usar a 'Massa Doce B√°sica'"}], recheio: [{item:"Creme de Confeiteiro (ver receita)"}], finalizacao: [{item:"A√ß√∫car de Confeiteiro ou Cristal", weightOriginal:"para polvilhar"}] }, instructions: ["Prepare a Massa Doce B√°sica.", "Ap√≥s a primeira fermenta√ß√£o, abra a massa, corte discos e deixe crescer novamente.", "Frite em √≥leo quente at√© dourar ou asse em forno m√©dio.", "Depois de frio, corte ao meio e recheie com o creme. Polvilhe com a√ß√∫car."], tips: ["Para fritar, o √≥leo n√£o deve estar excessivamente quente para que o sonho cozinhe por dentro.", "Se assar, pincele com gema antes de levar ao forno."] },
            { name: "Rosca de Coco", category: "basicos", description: "Rosca macia e saborosa com recheio e cobertura de coco.", ingredients: { massa: [{item:"Usar a 'Massa Doce B√°sica'"}], recheioCobertura: [{item:"Leite Condensado", weightOriginal:"1 lata"}, {item:"Coco Ralado Seco ou Fresco", weightOriginal:"100-150g"}, {item:"Manteiga (opcional)", weightOriginal:"1 colher de sopa"}] }, instructions: ["Prepare a Massa Doce B√°sica.", "Ap√≥s a primeira fermenta√ß√£o, abra a massa em um ret√¢ngulo.", "Misture os ingredientes do recheio/cobertura (reserve um pouco para cobrir). Espalhe sobre a massa.", "Enrole como rocambole, corte fatias ou modele como uma tran√ßa/rosca.", "Deixe crescer novamente.", "Pincele com gema, cubra com o restante do recheio de coco e asse a 180¬∞C at√© dourar."], tips: ["Umedecer o coco ralado com um pouco de leite de coco antes de usar no recheio o deixa mais macio.", "Pode adicionar leite de coco √† mistura do recheio."] },
            { name: "P√£o de Batata", category: "basicos", description: "P√£o extremamente macio e saboroso, gra√ßas √† adi√ß√£o de batata na massa.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Batata Cozida e Amassada (fria)", percentage: 40, weightOriginal: "200g"}, {item: "Leite Morno", percentage: 30, weightOriginal: "150ml (ajustar)"}, {item: "Ovo", percentage: 10, weightOriginal: "1 unidade (50g)"}, {item: "A√ß√∫car", percentage: 4, weightOriginal: "2 colheres de sopa (20g)"}, {item: "Sal", percentage: 2, weightOriginal: "1 colher de ch√° (10g)"}, {item: "Fermento Biol√≥gico Seco", percentage: 2, weightOriginal: "10g"}, {item: "Manteiga Amolecida", percentage: 10, weightOriginal: "50g"}] }, instructions: ["Misture os ingredientes e sove at√© a massa ficar bem macia e el√°stica (a massa √© naturalmente mais √∫mida).", "Primeira fermenta√ß√£o: 1 hora.", "Modele p√£ezinhos ou um p√£o maior.", "Segunda fermenta√ß√£o: 40-50 minutos.", "Pincele com gema e asse a 180¬∞C por 25-30 minutos para p√£ezinhos, ou mais para p√£o maior."], tips: ["Use a batata ainda morna, mas n√£o quente, para amassar e incorporar melhor.", "√ìtimo para rechear com catupiry ou outros queijos cremosos."] },
            { name: "P√£o de Canela (Cinnamon Roll)", category: "basicos", description: "P√£ezinhos enrolados com um delicioso recheio de manteiga, a√ß√∫car e canela.", ingredients: { massa: [{item:"Usar a 'Massa Doce B√°sica'"}], recheio: [{item:"Manteiga Amolecida", weightOriginal:"100g"}, {item:"A√ß√∫car Mascavo ou Refinado", weightOriginal:"150g"}, {item:"Canela em P√≥", weightOriginal:"2-3 colheres de sopa"}], coberturaOpcional: [{item:"Cream Cheese Frosting ou Glac√™ de A√ß√∫car"}] }, instructions: ["Prepare a Massa Doce B√°sica.", "Ap√≥s a primeira fermenta√ß√£o, abra a massa em um ret√¢ngulo.", "Misture os ingredientes do recheio e espalhe sobre a massa.", "Enrole como rocambole e corte fatias de 2-3 cm de espessura.", "Coloque as fatias em assadeira untada, pr√≥ximas umas das outras.", "Segunda fermenta√ß√£o: 30-40 minutos.", "Asse a 180¬∞C por 20-25 minutos. Cubra com glac√™ enquanto ainda morno, se desejar."], tips: ["Adicionar nozes picadas ou uvas passas ao recheio √© uma boa varia√ß√£o.", "N√£o deixe assar demais para que fiquem macios."] },
            { name: "P√£o Integral (B√°sico)", category: "basicos", description: "Uma receita simples de p√£o integral para o dia a dia, saud√°vel e saboroso.", ingredients: { finalDough: [{item: "Farinha de Trigo Integral", percentage: 60, weightOriginal: "300g", isBaseFlourPart: true}, {item: "Farinha de Trigo Branca", percentage: 40, weightOriginal: "200g", isBaseFlourPart: true}, {item: "√Ågua Morna", percentage: 63, weightOriginal: "315ml (aprox.)"}, {item: "Mel ou A√ß√∫car Mascavo", percentage: 4, weightOriginal: "2 colheres de sopa (20g)"}, {item: "√ìleo Vegetal ou Azeite", percentage: 6, weightOriginal: "3 colheres de sopa (30ml)"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}] }, instructions: ["Misture os ingredientes secos. Adicione os l√≠quidos e o mel/a√ß√∫car.", "Sove bem por 10-15 minutos.", "Primeira fermenta√ß√£o: 1 a 1h30.", "Modele como p√£o de forma ou fil√£o.", "Segunda fermenta√ß√£o: 45-60 minutos.", "Asse em forno pr√©-aquecido a 200¬∞C por 30-40 minutos."], tips: ["A farinha integral absorve mais √°gua, ajuste a quantidade se necess√°rio.", "Pode adicionar sementes (linha√ßa, girassol, gergelim) √† massa."] },
            { name: "P√£o para Hamb√∫rguer", category: "basicos", description: "P√£ezinhos macios e levemente adocicados, perfeitos para hamb√∫rgueres caseiros.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 50, weightOriginal: "250ml"}, {item: "Ovo", percentage: 10, weightOriginal: "1 unidade (50g)"}, {item: "A√ß√∫car", percentage: 4, weightOriginal: "2 colheres de sopa (20g)"}, {item: "Sal", percentage: 2, weightOriginal: "1 colher de ch√° (10g)"}, {item: "Fermento Biol√≥gico Seco", percentage: 2, weightOriginal: "10g"}, {item: "Manteiga Amolecida", percentage: 10, weightOriginal: "50g"}], cobertura: [{item:"Gema para pincelar"}, {item:"Sementes de Gergelim"}] }, instructions: ["Misture os ingredientes e sove at√© a massa ficar lisa e el√°stica.", "Primeira fermenta√ß√£o: 1 hora.", "Divida em por√ß√µes de 80-100g, modele bolas achatadas.", "Segunda fermenta√ß√£o: 30-40 minutos.", "Pincele com gema, polvilhe gergelim e asse a 200¬∞C por 15-20 minutos."], tips: ["Para um p√£o mais rico, use duas gemas em vez de um ovo inteiro.", "Deixe espa√ßo entre os p√£es na assadeira para crescerem."] },
            { name: "P√£o Hot Dog", category: "basicos", description: "P√£ezinhos alongados e macios, ideais para cachorros-quentes.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite Morno", percentage: 48, weightOriginal: "240ml"}, {item: "Ovo", percentage: 10, weightOriginal: "1 unidade (50g)"}, {item: "A√ß√∫car", percentage: 6, weightOriginal: "30g"}, {item: "Sal", percentage: 1.6, weightOriginal: "8g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Manteiga Amolecida", percentage: 8, weightOriginal: "40g"}] }, instructions: ["Siga o mesmo processo do P√£o para Hamb√∫rguer para a massa.", "Na modelagem, forme cilindros de aproximadamente 15cm de comprimento.", "Segunda fermenta√ß√£o e coc√ß√£o similares ao p√£o de hamb√∫rguer, ajustando o tempo se necess√°rio."], tips: ["Coloque os p√£es pr√≥ximos uns dos outros na assadeira para que cres√ßam para cima, formando laterais retas.", "Pode pincelar com manteiga derretida ap√≥s assar."] },
            { name: "P√£o Petr√≥polis", category: "basicos", description: "P√£o doce tradicional, fofo, com uma cobertura a√ßucarada caracter√≠stica.", ingredients: { massa: [{item:"Usar a 'Massa Doce B√°sica'"}], cobertura: [{item:"A√ß√∫car de Confeiteiro", weightOriginal:"1 x√≠cara"}, {item:"Leite ou Suco de Lim√£o", weightOriginal:"2-3 colheres de sopa (para fazer um glac√™)"}, {item:"Coco ralado fino (opcional)", weightOriginal:"para polvilhar"}] }, instructions: ["Prepare a Massa Doce B√°sica.", "Ap√≥s a primeira fermenta√ß√£o, modele p√£es redondos ou em formato de fil√£o.", "Segunda fermenta√ß√£o: at√© dobrar.", "Asse a 180¬∞C at√© dourar.", "Enquanto o p√£o esfria um pouco, prepare o glac√™ misturando o a√ß√∫car de confeiteiro com o l√≠quido aos poucos, at√© obter uma consist√™ncia espessa mas fluida.", "Despeje o glac√™ sobre os p√£es ainda mornos. Polvilhe coco se desejar."], tips: ["O glac√™ pode ser mais ralo ou mais grosso conforme a prefer√™ncia.", "Tradicionalmente, a cobertura √© bem generosa."] },
            { name: "P√£o Franc√™s (Cacetinho/P√£o de Sal)", category: "basicos", description: "O p√£o mais popular no Brasil, com casca crocante e miolo macio. Requer t√©cnica e, idealmente, vapor no forno.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua Gelada", percentage: 58, weightOriginal: "290ml (aprox.)"}, {item: "Fermento Biol√≥gico Fresco", percentage: 3, weightOriginal: "15g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "Melhorador de Farinha (opcional)", percentage: 1, weightOriginal: "5g"}, {item:"A√ß√∫car (pitada)", percentage: 1, weightOriginal:"5g"}] }, instructions: ["Misture os ingredientes, sovando bem at√© ponto de v√©u. Massa firme.", "Primeira fermenta√ß√£o (curta): 20-30 minutos.", "Divida em por√ß√µes de 50-60g. Modele cilindros curtos.", "Descanso de mesa: 10-15 minutos.", "Abra cada cilindro e enrole apertado. Alongue pontas.", "Coloque em assadeiras polvilhadas com fub√°, costura para baixo.", "Segunda fermenta√ß√£o (estufa): 40-60 minutos.", "Fa√ßa um corte longitudinal profundo (pestana).", "Asse em forno muito quente (220-250¬∞C) com vapor, 15-20 minutos."], tips: ["√Ågua gelada controla temperatura da massa.", "Vapor √© essencial para croc√¢ncia e pestana.", "Corte com l√¢mina afiada, em √¢ngulo."] }
        ];
        
        const defaultBuffetRecipesData = [
            { name: "Baguete Tradicional", category: "buffet", description: "Um cl√°ssico da panifica√ß√£o francesa...", ingredients: { poolish: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "220g", isBaseFlourPart: true }, { item: "√Ågua (aprox. 21¬∞C)", percentage: 100, weightOriginal: "220g" }, { item: "Fermento Fresco OU", percentage: 0.12, weightOriginal: "0.26g" }, { item: "FSI", percentage: 0.04, weightOriginal: "0.08g" } ], finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "440g", isBaseFlour: true }, { item: "√Ågua", percentage: 52.24, weightOriginal: "230g" }, { item: "Sal", percentage: 2.99, weightOriginal: "13g" }, { item: "Fermento Fresco OU", percentage: 2.1, weightOriginal: "9.2g" }, { item: "FSI", percentage: 0.7, weightOriginal: "3.1g" }, { item: "Malte (opcional)", percentage: 0.75, weightOriginal: "3.3g" }, { item: "Todo o Poolish", percentage: 100, weightOriginal: "440g", isPreFerment: true, preFermentFlourPercentage: 50 } ] }, instructions: [ "Preparo do Poolish: Misture, cubra, fermente (18-21¬∞C) por 12-16h.", "Mistura (Massa Final): Ingredientes + poolish. Mistura aprimorada. Tdesejada 23-24¬∞C.", "Primeira Fermenta√ß√£o: 1h, com 1 dobra aos 30 min.", "Divis√£o e Pr√©-Modelagem: Por√ß√µes de 280-300g. Ret√¢ngulos leves.", "Descanso Intermedi√°rio: Cubra, 20-30 min.", "Modelagem Final: Baguetes com tens√£o.", "Fermenta√ß√£o Final: Em couche. 1h-1h15min a 27¬∞C (65% UR).", "Cortes: 5-6 diagonais.", "Coc√ß√£o: 238¬∞C+, com vapor. 20-25 min.", "Resfriamento: Em grades." ], tips: [ "Qualidade da farinha √© crucial.", "Vapor no in√≠cio √© essencial.", "Para finger food, fatie fino e torre." ] },
            { name: "Baguete Multigr√£os", category: "buffet", description: "Varia√ß√£o nutritiva da baguete, com sementes e gr√£os.", ingredients: { soaker: [ { item: "Mix de Gr√£os e Sementes", percentage: null, weightOriginal: "80g" }, { item: "√Ågua Morna", percentage: null, weightOriginal: "80g" } ], finalDough: [ { item: "Farinha de Trigo Branca", percentage: 70, weightOriginal: "350g", isBaseFlourPart: true }, { item: "Farinha de Trigo Integral Fina", percentage: 30, weightOriginal: "150g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 68, weightOriginal: "340g" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Fermento Fresco OU", percentage: 1.5, weightOriginal: "7.5g" }, { item: "FSI", percentage: 0.5, weightOriginal: "2.5g" }, { item: "(Opcional) Poolish", percentage: 30, weightOriginal: "150g", isPreFerment: true, preFermentFlourPercentage: 100}, { item: "Todo o Soaker escorrido", percentage: null, weightOriginal: "" } ] }, instructions: [ "Preparo do Soaker: Hidrate gr√£os ‚â•2h. Escorra.", "Mistura: Adicione farinhas, √°gua, poolish (se usar). Incorpore. Adicione fermento, sal. Soaker no final. Tdesejada: 23-24¬∞C.", "Siga passos 3-10 da Baguete Tradicional." ], tips: [ "Soaker garante umidade.", "Ajuste propor√ß√£o branca/integral." ] },
            { name: "Ciabatta (com Poolish)", category: "buffet", description: "P√£o italiano r√∫stico, miolo aerado. (Baseado em Michel Suas)", ingredients: { poolish: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "240g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 100, weightOriginal: "240g" }, { item: "Fermento Fresco OU", percentage: 0.12, weightOriginal: "0.3g" }, { item: "FSI", percentage: 0.04, weightOriginal: "0.1g" } ], finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "390g", isBaseFlour: true }, { item: "√Ågua", percentage: 61.29, weightOriginal: "239g" }, { item: "Sal", percentage: 3.23, weightOriginal: "12.6g" }, { item: "Fermento Fresco OU", percentage: 0.78, weightOriginal: "3g" }, { item: "FSI", percentage: 0.26, weightOriginal: "1g" }, { item: "Azeite EV", percentage: 4.84, weightOriginal: "19g" }, { item: "Todo o Poolish", percentage: null, weightOriginal: "480g", isPreFerment: true, preFermentFlourPercentage: (240/390)*100 } ] }, instructions: [ "Preparo do Poolish: Conforme Baguete.", "Mistura: B√°sica. Ingredientes (exceto azeite). Adicione azeite. Massa mole. Tdesejada: 23-24¬∞C.", "1¬™ Fermenta√ß√£o: Recipiente untado. 3h, 2-3 dobras.", "Divis√£o: Bancada enfarinhada. Ret√¢ngulos (250-300g). Sem pr√©-modelagem.", "Fermenta√ß√£o Final: Tecido enfarinhado/assadeiras. 30-45 min a 27¬∞C.", "Coc√ß√£o: 232¬∞C+, pedra, vapor. 20-25 min.", "Resfriamento: Grades." ], tips: [ "Alta hidrata√ß√£o √© chave.", "Use bastante farinha ao manipular." ] },
            { name: "Focaccia Cl√°ssica", category: "buffet", description: "P√£o italiano achatado e macio. (Baseado em Michel Suas)", ingredients: { pateFermentee: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "165g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 65, weightOriginal: "107g" }, { item: "Fermento Fresco OU", percentage: 0.6, weightOriginal: "1g" }, {item:"FSI", percentage:0.2, weightOriginal:""}, { item: "Sal", percentage: 2, weightOriginal: "3.3g" } ], finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "490g", isBaseFlour: true }, { item: "√Ågua", percentage: 66.33, weightOriginal: "325g" }, { item: "Sal", percentage: 2.00, weightOriginal: "9.8g" }, { item: "Fermento Fresco OU", percentage: 1.8, weightOriginal: "8.8g" }, {item:"FSI", percentage:0.6, weightOriginal:""}, { item: "Azeite EV", percentage: 8.00, weightOriginal: "39g" }, { item: "Queijo Ralado (opc.)", percentage: 4.00, weightOriginal: "19.6g" }, { item: "Toda a P√¢te Ferment√©e", percentage: null, weightOriginal: "276g", isPreFerment: true, preFermentFlourPercentage: (165/490)*100 } ], cobertura: [ { item: "Azeite EV", weightOriginal: "Generosamente" }, { item: "Alecrim Fresco", weightOriginal: "A gosto" }, { item: "Sal Grosso", weightOriginal: "A gosto" } ] }, instructions: [ "P√¢te Ferment√©e: Misture, sove. Fermente 1h amb., refrigere 12-24h.", "Mistura: Ingredientes + p√¢te. B√°sica. Adicione azeite/queijo. Tdesejada: 23-26¬∞C.", "1¬™ Fermenta√ß√£o: 2h, 1 dobra.", "Divis√£o e Modelagem: Abra em assadeiras untadas. Pressione dedos.", "Fermenta√ß√£o Final: 1h a 26¬∞C.", "Cobertura e Coc√ß√£o: Azeite, alecrim, sal. Forno 220-230¬∞C, 20-25 min." ], tips: [ "N√£o economize no azeite.", "Varia√ß√µes: Tomate cereja, azeitonas, cebola." ] },
            { name: "Minip√£o de Leite", category: "buffet", description: "P√£ezinhos macios e adocicados. (Baseado em Michel Suas)", ingredients: { finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true }, { item: "Leite Integral", percentage: 45, weightOriginal: "225g" }, { item: "Ovos Inteiros", percentage: 22, weightOriginal: "110g" }, { item: "A√ß√∫car", percentage: 11, weightOriginal: "55g" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Fermento Fresco OU", percentage: 2.1, weightOriginal: "10.5g" }, { item: "FSI Osmotolerante", percentage: 0.7, weightOriginal: "3.5g" }, { item: "Manteiga (amolecida)", percentage: 45, weightOriginal: "225g" } ] }, instructions: [ "Mistura: Intensiva. Ingredientes (exceto manteiga). Desenvolva gl√∫ten. Adicione manteiga. Tdesejada: 22-25¬∞C.", "1¬™ Fermenta√ß√£o: 45min-1h amb., refrigere.", "Divis√£o e Pr√©-Modelagem: 30-35g. Boleie.", "Descanso: Cubra, 20-30 min.", "Modelagem Final: Bolinhas, fil√µes.", "Fermenta√ß√£o Final: Assadeiras. 1h-1h30min a 26¬∞C. Pincele egg wash.", "Coc√ß√£o: Forno 170-180¬∞C, 12-15 min." ], tips: [ "Manteiga amolecida, n√£o derretida.", "Monitore forno (massa rica)." ] },
            { name: "Minip√£o Australiano", category: "buffet", description: "P√£ezinhos escuros com mel e cacau.", ingredients: { finalDough: [ { item: "Farinha de Trigo", percentage: 70, weightOriginal: "350g", isBaseFlourPart: true }, { item: "Farinha Integral Fina", percentage: 30, weightOriginal: "150g", isBaseFlourPart: true }, { item: "√Ågua Morna", percentage: 58, weightOriginal: "290ml" }, { item: "Mel", percentage: 8, weightOriginal: "40g" }, { item: "Cacau em P√≥", percentage: 4, weightOriginal: "20g" }, { item: "Caf√© Sol√∫vel (opc.)", percentage: 1, weightOriginal: "5g" }, { item: "Sal", percentage: 1.8, weightOriginal: "9g" }, { item: "Fermento Fresco OU", percentage: 2.5, weightOriginal: "12.5g" }, {item:"FSI", percentage:0.8, weightOriginal:""}, { item: "Manteiga/√ìleo", percentage: 5, weightOriginal: "25g" }, { item: "Fub√° (opc. polvilhar)", weightOriginal: "" } ] }, instructions: [ "Mistura: Secos. Dissolva fermento, mel na √°gua. Adicione. Incorpore sal, manteiga/√≥leo. Sove (aprimorada). Tdesejada: 24-26¬∞C.", "1¬™ Fermenta√ß√£o: 1h-1h30.", "Divis√£o e Pr√©-Modelagem: 30-35g. Boleie.", "Descanso: Cubra, 15-20 min.", "Modelagem Final: Reboleie.", "Fermenta√ß√£o Final: Assadeiras. 45-60 min.", "Coc√ß√£o: Forno 190-200¬∞C, 12-15 min." ], tips: [ "Cacau/caf√© para cor, n√£o exagere.", "Ajuste hidrata√ß√£o." ] },
            { name: "Minip√£o de Queijo", category: "buffet", description: "P√£ezinhos macios com batata e queijo.", ingredients: { finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true }, { item: "Pur√™ de Batata (frio)", percentage: 40, weightOriginal: "200g" }, { item: "Leite Integral (morno)", percentage: 25, weightOriginal: "125ml" }, { item: "Ovo", percentage: 10, weightOriginal: "50g" }, { item: "A√ß√∫car", percentage: 5, weightOriginal: "25g" }, { item: "Sal", percentage: 1.8, weightOriginal: "9g" }, { item: "Fermento Fresco OU", percentage: 3, weightOriginal: "15g" }, {item:"FSI", percentage:1, weightOriginal:""}, { item: "Manteiga (amolecida)", percentage: 10, weightOriginal: "50g" }, { item: "Parmes√£o Ralado", percentage: 20, weightOriginal: "100g" }, { item: "Mussarela (opc. recheio)", weightOriginal: "a gosto" }, { item: "Gema p/ pincelar", weightOriginal: "" } ] }, instructions: [ "Mistura: Fermento, a√ß√∫car no leite. Farinha, sal, parmes√£o. Adicione pur√™, ovo, fermento. Manteiga. Sove (aprimorada). Tdesejada: 24-26¬∞C.", "1¬™ Fermenta√ß√£o: 1h-1h30.", "Divis√£o e Pr√©-Modelagem: 35-40g. Recheie (opc.). Boleie.", "Descanso: Cubra, 15 min.", "Modelagem Final: Reboleie.", "Fermenta√ß√£o Final: Assadeiras. 45-60 min. Pincele gema.", "Coc√ß√£o: Forno 180¬∞C, 15-20 min." ], tips: [ "Pur√™ de batata frio.", "Ajuste leite." ] },
            { name: "Minip√£o Integral com Gr√£os", category: "buffet", description: "Vers√£o saud√°vel e r√∫stica. (Adaptado de Michel Suas)", ingredients: { soaker: [ { item: "Mix de Gr√£os", percentage: null, weightOriginal: "50g" }, { item: "√Ågua", percentage: null, weightOriginal: "50g" } ], finalDough: [ { item: "Farinha Integral Fina", percentage: 60, weightOriginal: "300g", isBaseFlourPart: true }, { item: "Farinha Branca", percentage: 40, weightOriginal: "200g", isBaseFlourPart: true }, { item: "√Ågua (morna)", percentage: 65, weightOriginal: "325ml" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Fermento Fresco OU", percentage: 2.5, weightOriginal: "12.5g" }, {item:"FSI", percentage:0.8, weightOriginal:""}, { item: "Mel/Mela√ßo (opc.)", percentage: 3, weightOriginal: "15g" }, { item: "Todo o Soaker", weightOriginal: "" } ] }, instructions: [ "Soaker: Hidrate gr√£os ‚â•2h. Escorra.", "Mistura: Farinhas. Fermento, mel na √°gua. Adicione. Sal. Sove (aprimorada). Soaker. Tdesejada: 23-27¬∞C.", "1¬™ Fermenta√ß√£o: 1h-1h30, 1 dobra.", "Divis√£o e Pr√©-Modelagem: 35-40g. Boleie/fil√µes.", "Descanso: Cubra, 20-25 min.", "Modelagem Final: Reafirme. Passe em gr√£os (opc.).", "Fermenta√ß√£o Final: Assadeiras. 45-60 min.", "Coc√ß√£o: Forno 200-210¬∞C, 12-18 min." ], tips: [ "Integral absorve mais √°gua.", "Soaker para textura." ] },
            { name: "Grissini Artesanal", category: "buffet", description: "Palitos finos e crocantes da It√°lia.", ingredients: { finalDough: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true }, { item: "√Ågua", percentage: 58, weightOriginal: "290ml" }, { item: "Azeite EV", percentage: 9, weightOriginal: "45g" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Fermento Fresco OU", percentage: 1.5, weightOriginal: "7.5g" }, {item:"FSI", percentage:0.5, weightOriginal:""}, { item: "Malte Diast√°tico (opc.)", percentage: 1, weightOriginal: "5g" } ] }, instructions: [ "Mistura: Direta. Desenvolva gl√∫ten (sem excesso). Massa firme. Tdesejada: 23-25¬∞C.", "1¬™ Fermenta√ß√£o: Curta, 30-45 min (relaxar).", "Divis√£o e Modelagem: Abra fino (3-5mm). Corte tiras. Tor√ßa (opc.).", "Fermenta√ß√£o Final: M√≠nima.", "Coc√ß√£o: Assadeiras. Forno 180-190¬∞C, 15-20 min, at√© secar." ], tips: [ "Pode usar vinho branco seco.", "Estique fino.", "Varia√ß√µes: Gergelim, parmes√£o, alecrim." ] },
            { name: "P√£o de Campanha (Sourdough)", category: "buffet", description: "P√£o r√∫stico franc√™s com levain. (Baseado em Michel Suas)", ingredients: { levain: [ { item: "Farinha Branca", percentage: 50, weightOriginal: "50g", isBaseFlourPart: true }, { item: "Farinha Integral/Centeio", percentage: 50, weightOriginal: "50g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 100, weightOriginal: "100g" }, { item: "Starter Maduro", percentage: 20, weightOriginal: "20g" } ], finalDough: [ { item: "Farinha Branca", percentage: 80, weightOriginal: "400g", isBaseFlourPart: true }, { item: "Farinha Integral", percentage: 15, weightOriginal: "75g", isBaseFlourPart: true }, { item: "Farinha Centeio (opc.)", percentage: 5, weightOriginal: "25g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 70, weightOriginal: "350ml" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Todo o Levain", percentage: null, weightOriginal: "220g", isPreFerment: true, preFermentFlourPercentage: (100 / (400+75+25)) * 100 } ] }, instructions: [ "Levain: Misture, fermente at√© dobrar/triplicar.", "Aut√≥lise (Opc.): Farinhas + √°gua. 30-60 min.", "Mistura: Levain, sal (√°gua restante) √† aut√≥lise. Gl√∫ten moderado. Tdesejada: 24-26¬∞C.", "1¬™ Fermenta√ß√£o: 3-4h, 3-4 dobras.", "Divis√£o e Pr√©-Modelagem: 2 por√ß√µes. Boule/b√¢tard.", "Descanso: Cubra, 20-30 min.", "Modelagem Final: Firme. Bannetons.", "Fermenta√ß√£o Final: 1-3h amb. OU retarde geladeira 8-16h.", "Cortes e Coc√ß√£o: Forno/panela 230-250¬∞C. Vapor. Reduza temp. Total 40-55 min.", "Resfriamento: Essencial (‚â•2h)." ], tips: [ "Paci√™ncia com levain.", "Panela de ferro ajuda." ] },
            { name: "P√£o de Centeio Leve", category: "buffet", description: "Combina√ß√£o de centeio e trigo. (Inspirado em Michel Suas)", ingredients: { pateFermentee: [ { item: "Farinha de Trigo", percentage: 100, weightOriginal: "130g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 65, weightOriginal: "85g" }, { item: "Fermento Fresco OU", percentage: 0.75, weightOriginal: "1g" }, {item:"FSI", percentage:0.25, weightOriginal:""}, { item: "Sal", percentage: 2, weightOriginal: "2.6g" } ], finalDough: [ { item: "Farinha Branca", percentage: 60, weightOriginal: "300g", isBaseFlourPart: true }, { item: "Farinha Centeio M√©dia/Clara", percentage: 40, weightOriginal: "200g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 70, weightOriginal: "350ml" }, { item: "Sal", percentage: 2, weightOriginal: "10g" }, { item: "Fermento Fresco OU", percentage: 1.5, weightOriginal: "7.5g" }, {item:"FSI", percentage:0.5, weightOriginal:""}, { item: "Sementes (Cominho, opc.)", percentage: null, weightOriginal: "5-7.5g" }, { item: "Toda a P√¢te Ferment√©e (se usar)", percentage: null, weightOriginal: "218g", isPreFerment: true, preFermentFlourPercentage: (130/500)*100 } ] }, instructions: [ "P√¢te Ferment√©e (se usar): Misture. Fermente 1h amb., refrigere.", "Mistura: Farinhas (sementes). √Ågua, fermento, p√¢te. Sal. Aprimorada (cuidado centeio). Tdesejada: 24-25¬∞C.", "1¬™ Fermenta√ß√£o: 1h-1h30 (1 dobra se nec.).", "Divis√£o e Pr√©-Modelagem: Use farinha centeio. Redondo/oval.", "Descanso: Cubra, 20-30 min.", "Modelagem Final: Broa/fil√£o.", "Fermenta√ß√£o Final: 45-60 min a 27¬∞C.", "Cortes e Coc√ß√£o: Corte. Forno 220-230¬∞C, vapor. 30-40 min (TI 96-98¬∞C).", "Resfriamento: Fundamental (12-24h)." ], tips: [ "Massa de centeio √© pegajosa.", "Aumentar centeio integral intensifica sabor." ] }
        ];
        
        const defaultFrenchRecipesData = [
            { name: "Baguette (Francesa)", category: "franceses", description: "A ic√¥nica baguette francesa, conhecida por sua casca fina e crocante, miolo aerado e sabor caracter√≠stico de uma boa fermenta√ß√£o. Pode ser feita com m√©todo direto, poolish ou levain.", ingredients: { poolish: [ { item: "Farinha de Trigo T55 ou T65", percentage: 100, weightOriginal: "150g", isBaseFlourPart: true }, { item: "√Ågua", percentage: 100, weightOriginal: "150g" }, { item: "FSI", percentage: 0.1, weightOriginal: "0.15g" } ], finalDough: [ { item: "Farinha de Trigo T55 ou T65", percentage: 100, weightOriginal: "350g", isBaseFlour: true }, { item: "√Ågua", percentage: 62, weightOriginal: "217g" }, { item: "Sal", percentage: 2, weightOriginal: "7g" },  { item: "FSI", percentage: 0.3, weightOriginal: "1g" }, { item: "Todo o Poolish", percentage: null, weightOriginal: "300g", isPreFerment: true, preFermentFlourPercentage: (150/350)*100 }] }, instructions: ["Preparo do Poolish: 12-16h a 20¬∞C.", "Mistura: Aut√≥lise (farinha da massa final + √°gua) por 20-30 min. Adicionar poolish, sal, fermento. Mistura aprimorada.", "Primeira Fermenta√ß√£o: 1h30 com dobras a cada 30 min.", "Divis√£o e Pr√©-modelagem: Pesar (ex: 350g), pr√©-modelar em cilindros.", "Descanso: 20-30 min.", "Modelagem: Alongar para formato de baguette.", "Fermenta√ß√£o Final: Em couche, 1h-1h30min.", "Cortes: 5-7 cortes (l√¢mina a 45¬∞).", "Coc√ß√£o: Forno muito quente (240-250¬∞C) com vapor abundante nos primeiros 10-12 min. Total 20-25 min."], tips: ["Use farinha francesa T55 ou T65 para autenticidade.", "O vapor √© crucial para a casca.", "A modelagem correta garante a estrutura interna."] },
            { name: "Baguette √âpi", category: "franceses", description: "Baguette modelada e cortada para se assemelhar a um ramo de trigo (√©pi de bl√©). Visualmente impressionante e f√°cil de compartilhar.", ingredients: { finalDough: [{item:"Massa de Baguette (Francesa)", percentage: 100, weightOriginal: "350g", isBaseFlour: true, referencesRecipe: "Baguette (Francesa)"}] }, instructions: ["Prepare massa de baguette at√© a modelagem final.", "Modele a baguette um pouco mais fina e longa que o usual.", "Coloque sobre papel manteiga ou p√° enfarinhada.", "Com uma tesoura bem afiada e ligeiramente inclinada (aprox. 45-60¬∞), fa√ßa cortes profundos quase at√© a base, espa√ßados de 3-4 cm.", "Ap√≥s cada corte, desloque a 'folha' de massa para um lado, alternando (esquerda, direita) para formar o padr√£o de espiga.", "Prossiga com a fermenta√ß√£o final e asse como uma baguette, com vapor."], tips: ["Use uma tesoura dedicada para alimentos.", "A pr√°tica leva √† perfei√ß√£o na t√©cnica de corte e deslocamento das 'folhas'."]},
            { name: "Baguette Fougasse", category: "franceses", description: "Uma varia√ß√£o da fougasse, feita com massa de baguette e caracterizada por seus cortes abertos, que maximizam a casca crocante.", ingredients: { finalDough: [{item:"Massa de Baguette (Francesa)", percentage: 100, weightOriginal: "350g", isBaseFlour: true, referencesRecipe: "Baguette (Francesa)"}, {item:"Azeite de Oliva Extra Virgem", percentage: null, weightOriginal:"para pincelar"}, {item:"Flor de Sal e/ou Ervas de Provence (opcional)", percentage: null, weightOriginal:"a gosto"}] }, instructions: ["Prepare a massa de baguette at√© o final da primeira fermenta√ß√£o.", "Divida e pr√©-modele em um oval achatado.", "Ap√≥s o descanso, abra a massa em um formato de folha ou oval com cerca de 1-1.5cm de espessura.", "Transfira para papel manteiga.", "Com um cortador de massa ou faca afiada, fa√ßa um corte central longo e 2-3 pares de cortes laterais em √¢ngulo, como os veios de uma folha. N√£o corte as bordas externas.", "Abra delicadamente os cortes com os dedos para que n√£o se fechem.", "Pincele com azeite, polvilhe com flor de sal e/ou ervas.", "Fermenta√ß√£o final curta (20-30 min).", "Asse em forno bem quente (230-240¬∞C) por 15-20 min, at√© dourar."], tips: ["Os cortes devem ser largos o suficiente para n√£o fecharem completamente.", "Excelente para acompanhar queijos e antepastos."]},
            { name: "Vivarais", category: "franceses", description: "P√£o regional da regi√£o de Vivarais (Ard√®che), geralmente um p√£o r√∫stico, redondo ou ligeiramente alongado, com uma crosta bem desenvolvida.", ingredients: { finalDough: [{item:"Farinha de Trigo T65 ou T80 (semi-integral)", percentage:100, weightOriginal:"500g", isBaseFlour: true}, {item:"√Ågua", percentage:70, weightOriginal:"350g"}, {item:"Levain l√≠quido ou firme", percentage:25, weightOriginal:"125g", isPreFerment: true, preFermentFlourPercentage: 25}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Mistura: Aut√≥lise recomendada. Incorporar levain e sal. Desenvolver gl√∫ten moderadamente.", "Primeira fermenta√ß√£o: 2-3 horas com dobras.", "Divis√£o e Pr√©-modelagem: Bolear levemente.", "Descanso: 20-30 min.", "Modelagem: Formato redondo (boule) ou ligeiramente oval.", "Fermenta√ß√£o Final: Em banneton, 1h30-2h ou retardo a frio.", "Cortes: Simples (cruz) ou m√∫ltiplos cortes.", "Coc√ß√£o: Forno quente com vapor, similar a um p√£o de campanha."], tips: ["O uso de farinha semi-integral (T80) contribui para o car√°ter r√∫stico.", "Longa fermenta√ß√£o √© ideal para desenvolver sabor."]},
            { name: "Auvergnat", category: "franceses", description: "P√£o origin√°rio da regi√£o de Auvergne, caracterizado por ser um p√£o redondo (boule) com um pequeno peda√ßo de massa (o 'chap√©u' ou 'bonnet') colocado no topo antes de assar.", ingredients: { finalDough: [{item:"Farinha de Trigo T65", percentage:80, weightOriginal:"400g", isBaseFlourPart: true}, {item:"Farinha de Centeio Clara (T70)", percentage:20, weightOriginal:"100g", isBaseFlourPart: true}, {item:"√Ågua", percentage:66, weightOriginal:"330g"}, {item:"Levain ou Fermento Fresco", percentage:20, weightOriginal:"100g"}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Preparo da massa: M√©todo direto ou com levain.", "Primeira Fermenta√ß√£o: 1h30-2h com dobras.", "Divis√£o: Divida a massa principal. Separe uma pequena por√ß√£o (cerca de 1/8 a 1/10 do peso total) para o 'chap√©u'.", "Pr√©-modelagem: Boleie a por√ß√£o maior e a menor.", "Descanso: 15-20 min.", "Modelagem: Modele a por√ß√£o maior em uma boule firme. Achate levemente a por√ß√£o menor para formar um disco.", "Montagem: Umede√ßa levemente o centro da boule maior e coloque o disco de massa (chap√©u) por cima, pressionando levemente para aderir.", "Fermenta√ß√£o Final: Em banneton ou sobre tecido enfarinhado.", "Coc√ß√£o: Forno quente com vapor. O chap√©u pode ser polvilhado com farinha antes de assar."], tips: ["O 'chap√©u' √© a caracter√≠stica distintiva.", "Uma mistura de farinha de trigo e um pouco de centeio √© comum."]},
            { name: "Couronne Bordelaise", category: "franceses", description: "Origin√°ria de Bordeaux, esta 'coroa' √© um p√£o decorativo e saboroso, formado por v√°rias bolas de massa dispostas em c√≠rculo.", ingredients: { finalDough: [{item:"Massa de P√£o de Campanha ou Baguette", percentage: 100, weightOriginal: "700g", isBaseFlour: true, referencesRecipe: "P√£o de Campanha (Sourdough)"}] }, instructions: ["Prepare uma massa de p√£o r√∫stico (campanha ou baguette).", "Ap√≥s a primeira fermenta√ß√£o, divida a massa em 6 a 8 por√ß√µes iguais (ex: 75-100g cada).", "Boleie cada por√ß√£o firmemente.", "Disponha as bolas em c√≠rculo sobre papel manteiga ou assadeira enfarinhada, deixando um pequeno espa√ßo entre elas para que se unam ao crescer, mas n√£o se fundam completamente. Pode-se usar um anel ou forma redonda no centro para ajudar a manter o formato.", "Fermenta√ß√£o Final: Cubra e deixe fermentar at√© que as bolas se toquem e o conjunto esteja bem aerado.", "Cortes: Fa√ßa um pequeno corte em cada bola (opcional).", "Coc√ß√£o: Forno quente com vapor. O tempo de cozimento ser√° similar ao de p√£es individuais do mesmo tamanho."], tips: ["Certifique-se de que as bolas de massa estejam bem pr√≥ximas para formar a coroa, mas n√£o t√£o apertadas que n√£o possam expandir.", "Polvilhar com farinha antes de assar real√ßa o visual r√∫stico."]},
            { name: "Tordu", category: "franceses", description: "'P√£o torcido', um p√£o r√∫stico alongado que recebe uma tor√ß√£o antes da fermenta√ß√£o final, criando uma casca interessante e um miolo irregular.", ingredients: { finalDough: [{item:"Farinha de Trigo T65 ou T80", percentage:100, weightOriginal:"500g", isBaseFlour: true}, {item:"√Ågua", percentage:70, weightOriginal:"350g"}, {item:"Levain ou Poolish", percentage:25, weightOriginal:"125g", isPreFerment: true, preFermentFlourPercentage:25}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Prepare uma massa de p√£o r√∫stico (pode ser similar √† de campanha ou baguette com maior hidrata√ß√£o).", "Ap√≥s a primeira fermenta√ß√£o e divis√£o, pr√©-modele em um ret√¢ngulo.", "Descanso: 20-30 min.", "Modelagem: Abra o ret√¢ngulo levemente. Dobre uma das pontas mais longas at√© um pouco al√©m do centro. Dobre a outra ponta por cima, como uma carta. Achate levemente para formar um b√¢tard grosso.", "Tor√ß√£o: Segure as duas extremidades do b√¢tard e tor√ßa-o 2-3 vezes sobre si mesmo.", "Fermenta√ß√£o Final: Em tecido enfarinhado ou diretamente na p√°, mantendo a forma torcida.", "Coc√ß√£o: Forno quente com vapor."], tips: ["A tor√ß√£o deve ser firme o suficiente para manter a forma, mas n√£o t√£o apertada a ponto de rasgar a massa.", "A casca irregular e crocante √© um dos atrativos deste p√£o."]},
            { name: "Tricorne", category: "franceses", description: "P√£o com formato de 'tr√™s chifres' ou triangular, uma forma regional e tradicional.", ingredients: { finalDough: [{item:"Farinha de Trigo T65", percentage:100, weightOriginal:"500g", isBaseFlour: true}, {item:"√Ågua", percentage:65, weightOriginal:"325g"}, {item:"Fermento Fresco ou Levain", percentage:1.5, weightOriginal:"7.5g"}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Prepare uma massa de p√£o branco b√°sica.", "Ap√≥s a primeira fermenta√ß√£o, divida e pr√©-modele em bolas.", "Descanso: 15-20 min.", "Modelagem: Abra a bola em um disco. Com um cortador ou faca, fa√ßa tr√™s cortes radiais do centro para fora, sem atingir a borda, dividindo o disco em tr√™s 'p√©talas' largas unidas no centro. Dobre cada 'p√©tala' sobre si mesma ou em dire√ß√£o ao centro de forma decorativa para criar as tr√™s pontas. Outra t√©cnica √© modelar um tri√¢ngulo e acentuar as pontas.", "Fermenta√ß√£o Final: Em assadeira enfarinhada.", "Coc√ß√£o: Forno quente com vapor."], tips: ["Existem varia√ß√µes na modelagem do Tricorne; pesquise imagens para inspira√ß√£o.", "O importante √© obter as tr√™s pontas caracter√≠sticas."] },
            { name: "Fendu", category: "franceses", description: "'P√£o dividido' ou 'rachado', um p√£o oval ou redondo com um corte central profundo feito antes da fermenta√ß√£o final, que se abre dramaticamente durante o cozimento.", ingredients: { finalDough: [{item:"Farinha de Trigo T65", percentage:100, weightOriginal:"500g", isBaseFlour: true}, {item:"√Ågua", percentage:66, weightOriginal:"330g"}, {item:"Levain ou Poolish", percentage:25, weightOriginal:"125g", isPreFerment: true, preFermentFlourPercentage:25}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Prepare uma massa de p√£o r√∫stico.", "Ap√≥s a primeira fermenta√ß√£o, divida e pr√©-modele em formato oval (b√¢tard) ou redondo (boule).", "Descanso: 20 min.", "Modelagem Final: Reforce o formato desejado.", "Prepara√ß√£o para o corte: Polvilhe a superf√≠cie da massa generosamente com farinha. Com a lateral da m√£o ou um rolo fino (como um cabo de colher de pau enfarinhado), pressione firmemente no centro da massa, ao longo do comprimento (para b√¢tard) ou di√¢metro (para boule), quase dividindo a massa em duas metades, mas sem cortar completamente a base. A ideia √© criar um vinco profundo.", "Fermenta√ß√£o Final: Coloque a massa com o vinco para baixo em um banneton ou tecido bem enfarinhado. Ou, com o vinco para cima, e ele se abrir√° naturalmente. A t√©cnica tradicional √© com o vinco para baixo, e a 'explos√£o' ocorre ao virar para assar.", "Coc√ß√£o: Vire a massa sobre a p√° (se o vinco estava para baixo). O vinco se abrir√°. Asse em forno quente com vapor."], tips: ["A profundidade do vinco √© crucial para o efeito 'fendu'.", "Polvilhar bem com farinha antes de fazer o vinco ajuda a evitar que grude e real√ßa a abertura."] },
            { name: "Tabati√®re", category: "franceses", description: "Significa 'caixa de rap√©'. √â um p√£o redondo com uma aba de massa dobrada sobre uma parte, lembrando uma antiga caixa de rap√©.", ingredients: { finalDough: [{item:"Farinha de Trigo T65", percentage:100, weightOriginal:"500g", isBaseFlour: true}, {item:"√Ågua", percentage:65, weightOriginal:"325g"}, {item:"Fermento Fresco ou Levain", percentage:1.5, weightOriginal:"7.5g"}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Prepare uma massa de p√£o branco b√°sica.", "Ap√≥s a primeira fermenta√ß√£o, divida e pr√©-modele em bolas.", "Descanso: 20 min.", "Modelagem: Abra a bola em um disco n√£o muito fino. Dobre cerca de 2/3 do disco sobre o 1/3 restante, como se estivesse fechando uma carteira ou uma caixa de rap√©. A borda da parte dobrada n√£o deve encontrar a borda oposta, deixando uma parte da base descoberta.", "Pressione levemente a 'costura' para selar.", "Fermenta√ß√£o Final: Com a 'aba' para cima, em tecido enfarinhado ou assadeira.", "Coc√ß√£o: Forno quente com vapor."], tips: ["A 'aba' deve ser grande o suficiente para ser caracter√≠stica.", "Polvilhar com farinha antes de assar pode real√ßar o formato."] },
            { name: "B√¢tard Auvergnat", category: "franceses", description: "Combina o formato oval do B√¢tard com a tradi√ß√£o do 'chap√©u' do p√£o Auvergnat.", ingredients: { finalDough: [{item:"Farinha de Trigo T65", percentage:80, weightOriginal:"400g", isBaseFlourPart: true}, {item:"Farinha de Centeio Clara", percentage:20, weightOriginal:"100g", isBaseFlourPart: true}, {item:"√Ågua", percentage:66, weightOriginal:"330g"}, {item:"Levain ou Fermento Fresco", percentage:20, weightOriginal:"100g"}, {item:"Sal", percentage:2, weightOriginal:"10g"}] }, instructions: ["Siga o processo do P√£o Auvergnat para a massa.", "Na divis√£o, separe uma por√ß√£o para o 'chap√©u' (proporcional ao tamanho do b√¢tard).", "Pr√©-modele a por√ß√£o maior em um oval curto e a menor em uma bolinha.", "Descanso: 15-20 min.", "Modelagem: Modele a por√ß√£o maior em um b√¢tard. Achate a bolinha do chap√©u em um disco ovalado.", "Montagem: Umede√ßa o centro do b√¢tard e aplique o 'chap√©u' ovalado por cima.", "Fermenta√ß√£o Final e Coc√ß√£o: Similar ao Auvergnat ou b√¢tard padr√£o."], tips: ["O 'chap√©u' no b√¢tard √© menos comum que na boule, mas cria um p√£o distinto.", "Garanta boa ader√™ncia do chap√©u."] },
            { name: "Pain Tourte de Seigle", category: "franceses", description: "Um p√£o de centeio r√∫stico e denso, tradicionalmente uma grande 'torta' redonda, com alto teor de farinha de centeio e geralmente fermentado com levain de centeio.", ingredients: { levainCenteio: [ {item: "Farinha de Centeio Integral", weightOriginal:"100g"}, {item: "√Ågua Morna", weightOriginal:"100-120g"}, {item: "Starter de Levain (preferencialmente de centeio)", weightOriginal:"20g"} ], finalDough: [ {item: "Farinha de Centeio Integral", percentage:85, weightOriginal:"425g", isBaseFlourPart: true}, {item: "Farinha de Trigo Forte (opcional, para estrutura se menos de 90% centeio)", percentage:15, weightOriginal:"75g", isBaseFlourPart: true}, {item: "√Ågua", percentage:80, weightOriginal:"400g"}, {item: "Sal", percentage:2.1, weightOriginal:"10.5g"}, {item: "Todo o Levain de Centeio", weightOriginal:"~220g", isPreFerment: true, preFermentFlourPercentage: (100/500)*100 } ] }, instructions: [ "Preparo do Levain de Centeio: 8-12h.", "Mistura: Incorporar ingredientes. N√£o sovar demais.", "1¬™ Fermenta√ß√£o: Curta, 1-2h.", "Modelagem: Boule. Usar farinha de centeio.", "Fermenta√ß√£o Final: 1-2h. N√£o dobra de volume.", "Coc√ß√£o: Forno quente com vapor, depois reduzir. Cozimento longo.", "Resfriamento: Crucial (12-24h)." ], tips: [ "Estrutura vem do amido do centeio.", "Acidez do levain √© importante.", "Denso, √∫mido, sabor pronunciado." ] }
        ];
        
        const defaultAllAdvancedRecipeData = [
            { name: "P√£o Italiano", category: "avancados", description: "P√£o r√∫stico de casca crocante e miolo macio.", ingredients: { finalDough: [{item: "Farinha de Trigo (tipo 00 ou forte)", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua", percentage: 68, weightOriginal: "340g"}, {item: "Fermento Biol√≥gico Seco", percentage: 0.6, weightOriginal: "3g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "Azeite de Oliva (opcional)", percentage: 2, weightOriginal: "10g"}] }, instructions: ["Mistura: Direta ou com biga/poolish.", "Primeira Fermenta√ß√£o: 1-2 horas com dobras.", "Modelagem: Filone ou Pagnotta.", "Fermenta√ß√£o Final: 1-1.5 horas.", "Coc√ß√£o: Forno alto com vapor."], tips: ["Usar farinha forte.", "Longa fermenta√ß√£o a frio melhora sabor."] },
            { name: "P√£o Italiano ao Levain", category: "avancados", description: "Vers√£o do p√£o italiano utilizando fermento natural (levain).", ingredients: { levain: [{item: "Farinha de Trigo Forte", percentage:100, weightOriginal:"50g", isBaseFlourPart: true}, {item:"√Ågua", percentage:100, weightOriginal:"50g"}, {item:"Starter Maduro", percentage:20, weightOriginal:"10g"}], finalDough: [{item: "Farinha de Trigo (tipo 00 ou forte)", percentage: 100, weightOriginal: "450g", isBaseFlour: true}, {item: "√Ågua", percentage: 71, weightOriginal: "320g"}, {item: "Sal", percentage: 2, weightOriginal: "9g"}, {item: "Todo o Levain", percentage: null, weightOriginal: "110g", isPreFerment: true, preFermentFlourPercentage: (50/450)*100}] }, instructions: ["Preparo do Levain.", "Aut√≥lise.", "Mistura.", "Primeira Fermenta√ß√£o com dobras.", "Modelagem e Fermenta√ß√£o Final.", "Coc√ß√£o."], tips: ["Ajuste hidrata√ß√£o.", "Paci√™ncia."] },
            { name: "P√£o Italiano com Centeio", category: "avancados", description: "Adiciona farinha de centeio √† receita tradicional.", ingredients: { finalDough: [{item: "Farinha de Trigo Forte", percentage: 75, weightOriginal: "375g", isBaseFlourPart: true}, {item: "Farinha de Centeio (clara ou m√©dia)", percentage: 25, weightOriginal: "125g", isBaseFlourPart: true}, {item: "√Ågua", percentage: 72, weightOriginal: "360g"}, {item: "Fermento Biol√≥gico Seco", percentage: 0.6, weightOriginal: "3g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}] }, instructions: ["Similar ao P√£o Italiano, mas centeio torna massa pegajosa.", "Ajustar sova.", "Fermenta√ß√£o pode ser mais r√°pida."], tips: ["N√£o exagere no centeio.", "Centeio absorve mais √°gua."] },
            { name: "P√£o de Cerveja Preta com Provolone", category: "avancados", description: "P√£o com cerveja preta e provolone.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Cerveja Preta", percentage: 62, weightOriginal: "310ml"}, {item: "Queijo Provolone em cubos", percentage: 25, weightOriginal: "125g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Sal", percentage: 1.8, weightOriginal: "9g"}, {item: "A√ß√∫car Mascavo (opc.)", percentage: 2.5, weightOriginal: "12.5g"}] }, instructions: ["Mistura: Incorporar tudo, exceto queijo.", "Adicionar queijo no final.", "Fermenta√ß√µes e modelagem r√∫stica.", "Coc√ß√£o: Cuidado com queijo."], tips: ["Cerveja substitui √°gua.", "Provolone defumado √© √≥timo."] },
            { name: "Kaiser Roll", category: "avancados", description: "P√£ozinho austr√≠aco com coroa de 5 pontas.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua", percentage: 58, weightOriginal: "290ml"}, {item: "Fermento Biol√≥gico Seco", percentage: 2.5, weightOriginal: "12.5g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "A√ß√∫car", percentage: 2, weightOriginal: "10g"}, {item: "Manteiga ou √ìleo", percentage: 3.5, weightOriginal: "17.5g"}, {item: "Malte (opc.)", percentage: 1, weightOriginal: "5g"}], cobertura: [{item:"Sementes de Papoula ou Gergelim"}] }, instructions: ["Mistura: Desenvolver bem.", "Divis√£o: 60-80g.", "Modelagem: Bolear, usar carimbo Kaiser ou t√©cnica manual.", "Fermenta√ß√£o Final: Quase dobrar.", "Coc√ß√£o: Forno m√©dio-alto, vapor, pincelar √°gua, polvilhar sementes."], tips: ["Modelagem da coroa √© chave.", "Escaldar para casca brilhante."] },
            { name: "P√£o de Ab√≥bora", category: "avancados", description: "P√£o macio com ab√≥bora e especiarias.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Pur√™ de Ab√≥bora", percentage: 35, weightOriginal: "175g"}, {item: "√Ågua ou Leite", percentage: 25, weightOriginal: "125ml"}, {item: "Ovo", percentage: 10, weightOriginal: "50g"}, {item: "A√ß√∫car Mascavo", percentage: 9, weightOriginal: "45g"}, {item: "Manteiga", percentage: 9, weightOriginal: "45g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Sal", percentage: 1.5, weightOriginal: "7.5g"}, {item: "Especiarias", percentage: 0.8, weightOriginal: "4g"}] }, instructions: ["Mistura: Pur√™ com l√≠quidos. Adicionar demais. Sovar.", "Fermenta√ß√µes: Padr√£o p√£es enriquecidos.", "Modelagem: Forma, broas, p√£ezinhos.", "Coc√ß√£o: Forno m√©dio."], tips: ["Pur√™ adiciona umidade, ajuste l√≠quidos.", "Ajuste especiarias."] },
            { name: "P√£o de Batata Roxa", category: "avancados", description: "P√£o com cor roxa natural e macio.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Pur√™ de Batata Roxa (fria)", percentage: 35, weightOriginal: "175g"}, {item: "√Ågua ou Leite", percentage: 30, weightOriginal: "150ml"}, {item: "A√ß√∫car", percentage: 6, weightOriginal: "30g"}, {item: "Manteiga", percentage: 6, weightOriginal: "30g"}, {item: "Fermento Biol√≥gico Seco", percentage: 2, weightOriginal: "10g"}, {item: "Sal", percentage: 1.8, weightOriginal: "9g"}] }, instructions: ["Similar ao p√£o de ab√≥bora.", "Cor varia com batata."], tips: ["Cozinhe batata com casca.", "Massa pode ser mais densa."] },
            { name: "P√£o de Farinha de Uva", category: "avancados", description: "P√£o com sabor e cor da farinha de uva.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 85, weightOriginal: "425g", isBaseFlourPart: true}, {item: "Farinha de Baga√ßo de Uva", percentage: 15, weightOriginal: "75g", isBaseFlourPart: true}, {item: "√Ågua", percentage: 68, weightOriginal: "340g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.4, weightOriginal: "7g"}, {item: "Sal", percentage: 2, weightOriginal: "10g"}, {item: "Mel/A√ß√∫car Mascavo (opc.)", percentage: 4, weightOriginal: "20g"}] }, instructions: ["Mistura: Ajuste hidrata√ß√£o (farinha de uva absorve).", "Fermenta√ß√µes: Padr√£o. Cor intensa.", "Pode usar levain."], tips: ["Farinha de uva tem sabor forte, comece com menos.", "P√£o r√∫stico e denso."] },
            { name: "P√£o de Figo", category: "avancados", description: "P√£o r√∫stico com figos secos e nozes.", ingredients: { finalDough: [ {item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "√Ågua", percentage: 68, weightOriginal: "340g"}, {item: "Figos Secos Picados", percentage: 30, weightOriginal: "150g"}, {item: "Nozes Picadas (opc.)", percentage: 12, weightOriginal: "60g"}, {item: "Levain (100% hidr.)", percentage: 20, weightOriginal: "100g", isPreFerment: true, preFermentFlourPercentage: 10}, {item: "Sal", percentage: 2, weightOriginal: "10g"} ] }, instructions: ["Hidrate figos. Adicione figos/nozes no final da mistura.", "Fermenta√ß√µes e modelagem r√∫stica."], tips: ["Figos podem 'roubar' √°gua.", "Combina com queijos azuis."] },
            { name: "P√£o de Ameixa com Chocolate Branco", category: "avancados", description: "P√£o com ameixas e chocolate branco.", ingredients: { finalDough: [{item: "Farinha de Trigo", percentage: 100, weightOriginal: "500g", isBaseFlour: true}, {item: "Leite ou √Ågua", percentage: 62, weightOriginal: "310ml"}, {item: "Ameixas Secas Picadas", percentage: 22, weightOriginal: "110g"}, {item: "Chocolate Branco Peda√ßos", percentage: 18, weightOriginal: "90g"}, {item: "Manteiga", percentage: 6, weightOriginal: "30g"}, {item: "A√ß√∫car", percentage: 9, weightOriginal: "45g"}, {item: "Ovo", percentage: 10, weightOriginal: "50g"}, {item: "Fermento Biol√≥gico Seco", percentage: 1.8, weightOriginal: "9g"}, {item: "Sal", percentage: 1.5, weightOriginal: "7.5g"}] }, instructions: ["Mistura: Massa enriquecida. Ameixas/chocolate no final.", "Fermenta√ß√µes: Padr√£o p√£es doces.", "Modelagem: Forma, tran√ßas, p√£ezinhos.", "Coc√ß√£o: Cuidado com chocolate."], tips: ["Use chocolate de boa qualidade.", "Ameixas podem ser hidratadas."] },
            { name: "Panetone com Frutas Cristalizadas", category: "avancados", description: "P√£o doce italiano natalino com fermenta√ß√£o natural.", ingredients: { lievitoMadre: [{item:"Detalhes do refresco do levain m√£e a definir"}], primoImpasto: [{item:"Farinha Forte", weightOriginal:"100g"}, {item:"A√ß√∫car", weightOriginal:"30g"}, {item:"√Ågua", weightOriginal:"50g"}, {item:"Gemas", weightOriginal:"30g"}, {item:"Lievito Madre", weightOriginal:"30g"}], secondoImpasto: [{item:"Farinha Forte", weightOriginal:"50g"}, {item:"A√ß√∫car", weightOriginal:"30g"}, {item:"Mel", weightOriginal:"5g"}, {item:"Gemas", weightOriginal:"30g"}, {item:"Manteiga", weightOriginal:"60g"}, {item:"Sal", weightOriginal:"2g"}, {item:"Frutas Cristalizadas", weightOriginal:"100g"}, {item:"Uvas Passas", weightOriginal:"50g"}, {item:"Aromas", weightOriginal:"a gosto"}, {item:"Todo o Primeiro Impasto"}] }, instructions: ["Processo longo: refrescos lievito, 2 impastos.", "1¬∫ Impasto: Fermenta 10-14h.", "2¬∫ Impasto: Mais ingredientes, frutas. Fermenta em formas.", "Coc√ß√£o lenta. Resfriamento de cabe√ßa para baixo."], tips: ["Requer lievito madre forte.", "Controle de temperatura crucial."] },
            { name: "Panetone com Gotas de Chocolate", category: "avancados", description: "Varia√ß√£o do panetone com gotas de chocolate.", ingredients: { lievitoMadre: [{item:"Como acima"}], primoImpasto: [{item:"Como acima"}], secondoImpasto: [{item:"Ingredientes como acima, mas substitua Frutas e Passas por", weightOriginal:""},{item:"Gotas de Chocolate Amargo", weightOriginal:"150g"}] }, instructions: ["Processo id√™ntico, chocolate no final da 2¬™ mistura."], tips: ["Use chocolate resistente ao calor.", "Ajuste hidrata√ß√£o se necess√°rio."] },
            { name: "Ciabatta de Nozes", category: "avancados", description: "Ciabatta r√∫stica com nozes.", ingredients: { poolish: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"240g", isBaseFlourPart: true}, {item:"√Ågua", percentage:100, weightOriginal:"240g"}, {item:"FSI", percentage:0.04, weightOriginal:"0.1g"}], finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"390g", isBaseFlour: true}, {item:"√Ågua", percentage:61.29, weightOriginal:"239g"}, {item:"Sal", percentage:3.23, weightOriginal:"12.6g"}, {item:"FSI", percentage:0.26, weightOriginal:"1g"}, {item:"Azeite EV", percentage:4.84, weightOriginal:"19g"}, {item:"Nozes Picadas", percentage:25, weightOriginal:"97.5g"}, {item:"Todo o Poolish", percentage:null, weightOriginal:"480g", isPreFerment:true, preFermentFlourPercentage:(240/390)*100}] }, instructions: ["Siga receita Ciabatta. Adicione nozes no final."], tips: ["Tostar nozes real√ßa sabor.", "Combine com queijos."] },
            { name: "Ciabatta de Azeitonas", category: "avancados", description: "Ciabatta com azeitonas e sabor mediterr√¢neo.", ingredients: { poolish: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"240g", isBaseFlourPart:true}, {item:"√Ågua", percentage:100, weightOriginal:"240g"}, {item:"FSI", percentage:0.04, weightOriginal:"0.1g"}], finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"390g", isBaseFlour:true}, {item:"√Ågua", percentage:61.29, weightOriginal:"239g"}, {item:"Sal", percentage:3.23, weightOriginal:"12.6g"}, {item:"FSI", percentage:0.26, weightOriginal:"1g"}, {item:"Azeite EV", percentage:4.84, weightOriginal:"19g"}, {item:"Azeitonas Picadas", percentage:25, weightOriginal:"97.5g"}, {item:"(Opcional) Ervas frescas", percentage:0.5, weightOriginal:"~2g"}, {item:"Todo o Poolish", percentage:null, weightOriginal:"480g", isPreFerment:true, preFermentFlourPercentage:(240/390)*100}] }, instructions: ["Siga receita Ciabatta. Adicione azeitonas/ervas no final."], tips: ["Seque azeitonas em conserva.", "Azeitonas Kalamata s√£o √≥timas."] },
            { name: "P√£o de A√ßa√≠ com Castanhas", category: "avancados", description: "P√£o ex√≥tico com a√ßa√≠ e castanhas.", ingredients: { finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"Polpa de A√ßa√≠ Congelada", percentage:35, weightOriginal:"175g"}, {item:"√Ågua (ajustar)", percentage:35, weightOriginal:"175ml"}, {item:"Castanhas Picadas", percentage:18, weightOriginal:"90g"}, {item:"Mel/A√ß√∫car Mascavo", percentage:6, weightOriginal:"30g"}, {item:"Fermento Biol√≥gico Seco", percentage:1.4, weightOriginal:"7g"}, {item:"Sal", percentage:1.8, weightOriginal:"9g"}] }, instructions: ["Descongele a√ßa√≠. Use como l√≠quido. Misture, adicione castanhas no final.", "Fermenta√ß√µes e modelagem r√∫stica."], tips: ["Ajuste √°gua conforme polpa.", "Cor roxa intensa."] },
            { name: "Pain Beaujolais com Gorgonzola", category: "avancados", description: "P√£o franc√™s com vinho e gorgonzola.", ingredients: { finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"Vinho Tinto Beaujolais", percentage:62, weightOriginal:"310ml"}, {item:"Queijo Gorgonzola", percentage:18, weightOriginal:"90g"}, {item:"Levain (100% hidr.)", percentage:20, weightOriginal:"100g", isPreFerment:true, preFermentFlourPercentage:10}, {item:"Sal", percentage:1.8, weightOriginal:"9g"}, {item:"(Opcional) Nozes", percentage:10, weightOriginal:"50g"}] }, instructions: ["Mistura: Vinho como l√≠quido. Gorgonzola/nozes no final.", "Fermenta√ß√µes: √Ålcool pode retardar.", "Modelagem: R√∫stica."], tips: ["Cor levemente arroxeada.", "Ideal para t√°buas de queijos."] },
            { name: "P√£o de Tomate", category: "avancados", description: "P√£o com tomate seco ou extrato.", ingredients: { finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"√Ågua", percentage:62, weightOriginal:"310ml"}, {item:"Tomate Seco OU", percentage:18, weightOriginal:"90g"}, {item:"Extrato de Tomate", percentage:6, weightOriginal:"30g"}, {item:"Azeite de Oliva", percentage:4, weightOriginal:"20g"}, {item:"Fermento Biol√≥gico Seco", percentage:1.4, weightOriginal:"7g"}, {item: "Sal", percentage:1.8, weightOriginal:"9g"}, {item:"(Opcional) Or√©gano/Manjeric√£o", percentage:0.5, weightOriginal:"~2.5g"}] }, instructions: ["Hidrate tomate seco. Adicione tomate/ervas na mistura.", "Fermenta√ß√µes e modelagem padr√£o."], tips: ["Extrato d√° cor uniforme.", "Tomate seco adiciona textura."] },
            { name: "P√£o de Centeio (Avan√ßado)", category: "avancados", description: "P√£o com alta porcentagem de centeio e sourdough.", ingredients: { sourdoughCenteio: [{item:"Farinha de Centeio Integral", weightOriginal:"100g"}, {item:"√Ågua", weightOriginal:"100-120g"}, {item:"Starter de Centeio", weightOriginal:"20g"}], finalDough: [{item:"Farinha de Centeio Integral", percentage:70, weightOriginal:"350g", isBaseFlourPart:true}, {item:"Farinha de Trigo Forte", percentage:30, weightOriginal:"150g", isBaseFlourPart:true}, {item:"√Ågua", percentage:80, weightOriginal:"400g"}, {item:"Sal", percentage:2.1, weightOriginal:"10.5g"}, {item:"Todo o Sourdough", percentage:null, weightOriginal:"~220g", isPreFerment:true, preFermentFlourPercentage:(100/500)*100 }, {item:"(Opcional) Sementes", percentage:12, weightOriginal:"60g"}] }, instructions: ["Sourdough de Centeio: Fermentar 12-16h.", "Mistura: Massas pegajosas, misturar para incorporar.", "1¬™ Fermenta√ß√£o: Curta, 1-1.5h.", "Modelagem: Bancada enfarinhada. Formas.", "Fermenta√ß√£o Final: Curta, 45-75 min.", "Coc√ß√£o: Forno quente, depois reduzir. Longo cozimento."], tips: ["Acidez do sourdough √© crucial.", "Resfriamento 24-48h essencial."] },
            { name: "P√£o de Trigo Sarraceno", category: "avancados", description: "P√£o com sabor terroso do sarraceno.", ingredients: { finalDough: [{item:"Farinha de Trigo Sarraceno", percentage:40, weightOriginal:"200g", isBaseFlourPart:true}, {item:"Farinha de Trigo", percentage:60, weightOriginal:"300g", isBaseFlourPart:true}, {item:"√Ågua", percentage:75, weightOriginal:"375g"}, {item:"Levain (100% hidr.)", percentage:20, weightOriginal:"100g", isPreFerment:true, preFermentFlourPercentage:10}, {item:"Sal", percentage:2, weightOriginal:"10g"}, {item:"(Opcional) Mel, sementes", weightOriginal:""}] }, instructions: ["Se 100% sarraceno, massa tipo bolo. Usar forma.", "Se misturado, gl√∫ten do trigo ajuda.", "Fermenta√ß√£o/coc√ß√£o adaptadas."], tips: ["Sabor forte, combine ingredientes.", "Sem gl√∫ten exige t√©cnicas espec√≠ficas."] },
            { name: "P√£o de Cacau com Mix de Frutas Vermelhas", category: "avancados", description: "P√£o adocicado com cacau e frutas vermelhas.", ingredients: { finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"Cacau em P√≥", percentage:6, weightOriginal:"30g"}, {item:"√Ågua ou Leite", percentage:62, weightOriginal:"310ml"}, {item:"Mix Frutas Vermelhas Secas", percentage:25, weightOriginal:"125g"}, {item:"A√ß√∫car", percentage:10, weightOriginal:"50g"}, {item:"Manteiga", percentage:8, weightOriginal:"40g"}, {item:"Ovo", percentage:10, weightOriginal:"50g"}, {item:"Fermento Biol√≥gico Seco", percentage:1.8, weightOriginal:"9g"}, {item:"Sal", percentage:1.5, weightOriginal:"7.5g"}] }, instructions: ["Hidrate frutas. Mistura: Massa enriquecida. Cacau com secos. Frutas no final.", "Fermenta√ß√µes e modelagem: P√£o doce.", "Coc√ß√£o: Forno m√©dio. Cuidado com cacau."], tips: ["Use cacau de boa qualidade.", "Pode adicionar gotas de chocolate."] },
            { name: "P√£o de Campanha (Avan√ßado)", category: "avancados", description: "Vers√£o elaborada do P√£o de Campanha.", ingredients: { levain: [{item:"Farinha Integral", weightOriginal:"75g"},{item:"Farinha de Centeio", weightOriginal:"25g"},{item:"√Ågua", weightOriginal:"100g"},{item:"Starter", weightOriginal:"20g"}], finalDough: [{item:"Farinha de Trigo Forte", percentage:70, weightOriginal:"350g", isBaseFlourPart:true}, {item:"Farinha Integral (grossa)", percentage:20, weightOriginal:"100g", isBaseFlourPart:true}, {item:"Farinha Espelta/Centeio Claro", percentage:10, weightOriginal:"50g", isBaseFlourPart:true}, {item:"√Ågua", percentage:78, weightOriginal:"390g"}, {item:"Sal", percentage:2.2, weightOriginal:"11g"}, {item:"Todo o Levain", percentage:null, weightOriginal:"~220g", isPreFerment:true, preFermentFlourPercentage:(100/500)*100}] }, instructions: ["Aut√≥lise longa. Dobras (lamination, coil).", "Fermenta√ß√£o em bloco longa. Retardo a frio.", "Coc√ß√£o em panela/pedra com vapor."], tips: ["Dominar alta hidrata√ß√£o.", "Experimente gr√£os ancestrais."] },
            { name: "P√£o Portugu√™s", category: "avancados", description: "P√£o r√∫stico portugu√™s, casca estaladi√ßa.", ingredients: { finalDough: [{item:"Farinha de Trigo (T65 ou similar)", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"√Ågua", percentage:72, weightOriginal:"360g"}, {item:"Massa M√£e ou Levain", percentage:25, weightOriginal:"125g", isPreFerment:true, preFermentFlourPercentage:25}, {item:"Sal Marinho", percentage:2, weightOriginal:"10g"}] }, instructions: ["Tradicionalmente usa 'isco'. Longa fermenta√ß√£o.", "Modelagem r√∫stica (broas).", "Forno a lenha/lastro quente."], tips: ["Simplicidade exige t√©cnica.", "Qualidade farinha/fermento crucial."] },
            { name: "P√£o de Azeite", category: "avancados", description: "P√£o mediterr√¢neo com azeite, miolo macio.", ingredients: { finalDough: [{item:"Farinha de Trigo", percentage:100, weightOriginal:"500g", isBaseFlour:true}, {item:"√Ågua", percentage:62, weightOriginal:"310ml"}, {item:"Azeite EV", percentage:10, weightOriginal:"50g"}, {item:"Levain (100% hidr.)", percentage:20, weightOriginal:"100g", isPreFerment:true, preFermentFlourPercentage:10}, {item:"Sal", percentage:2, weightOriginal:"10g"}, {item:"(Opcional) Ervas", weightOriginal:""}] }, instructions: ["Mistura: Azeite gradual.", "Fermenta√ß√µes e modelagem: Padr√£o.", "Pode ser focaccia ou p√£es individuais."], tips: ["Use azeite de boa qualidade.", "Massa macia e el√°stica."] },
            { 
                name: "P√£o de Nozes e Cranberry com Levain", category: "avancados",
                description: "P√£o r√∫stico de fermenta√ß√£o natural com a do√ßura das cranberries e a croc√¢ncia das nozes, miolo macio e casca crocante.",
                ingredients: {
                    levain: [ {item: "Farinha de Trigo Integral", percentage: 100, weightOriginal:"75g", isBaseFlourPart: true}, {item: "√Ågua", percentage: 100, weightOriginal:"75g"}, {item: "Starter de Levain Maduro (refresco 1:2:2)", percentage: 20, weightOriginal:"15g"} ],
                    finalDough: [ {item: "Farinha de Trigo Branca (forte)", percentage: 80, weightOriginal: "400g", isBaseFlourPart: true}, {item: "Farinha de Trigo Integral", percentage: 20, weightOriginal: "100g", isBaseFlourPart: true}, {item: "√Ågua Morna", percentage: 72, weightOriginal: "360g"}, {item: "Sal Marinho", percentage: 2, weightOriginal: "10g"}, {item: "Todo o Levain Preparado", percentage: null, weightOriginal: "165g", isPreFerment: true, preFermentFlourPercentage: (75 / 500) * 100 }, {item: "Nozes Picadas Grosseiramente", percentage: 20, weightOriginal: "100g"}, {item: "Cranberries Secas", percentage: 15, weightOriginal: "75g"} ]
                },
                instructions: [ "Preparo do Levain: Misture os ingredientes do levain e deixe fermentar por 4-6 horas a 25-28¬∞C, ou at√© triplicar de volume e apresentar muitas bolhas.", "Aut√≥lise (Opcional): Misture as farinhas da massa final com a √°gua da massa final. Deixe descansar por 30-60 minutos.", "Mistura: Adicione o levain √† mistura da aut√≥lise (ou √†s farinhas e √°gua). Misture at√© incorporar. Adicione o sal. Sove (m√©todo de dobras ou amassadeira) at√© desenvolver o gl√∫ten parcialmente (ponto de v√©u fraco).", "Adi√ß√£o dos Nuts/Frutas: Adicione as nozes e cranberries na √∫ltima parte da sova ou durante as primeiras dobras, para n√£o quebrar demais o gl√∫ten.", "Primeira Fermenta√ß√£o (Bulk): Aproximadamente 3-4 horas a 24-26¬∞C. Fa√ßa 3-4 s√©ries de dobras (stretch and folds) nos primeiros 90-120 minutos.", "Divis√£o e Pr√©-Modelagem: Divida a massa no tamanho desejado. Pr√©-modele levemente em formato de bola ou oval. Deixe descansar por 20-30 minutos, coberto.", "Modelagem Final: Modele no formato final (boule, b√¢tard).", "Segunda Fermenta√ß√£o (Final Proof): Pode ser feita em temperatura ambiente por 1-2 horas, ou retardada a frio na geladeira (4-6¬∞C) por 12-18 horas em um banneton bem enfarinhado.", "Preparo para Assar: Pr√©-aque√ßa o forno com uma panela de ferro fundido (Dutch oven) ou pedra de cozimento a 230-250¬∞C.", "Coc√ß√£o: Transfira a massa para a panela/pedra quente. Fa√ßa cortes (scoring) na superf√≠cie. Asse com vapor nos primeiros 20-25 minutos (tampado se usar panela). Reduza a temperatura para 210-220¬∞C e asse por mais 15-25 minutos (destampado), ou at√© o p√£o atingir uma cor dourada escura e temperatura interna de 96-98¬∞C.", "Resfriamento: Deixe esfriar completamente em uma grade por pelo menos 1-2 horas antes de fatiar." ],
                tips: [ "Hidrate as cranberries em √°gua morna por 15 minutos antes de usar, escorra bem. Isso evita que ressequem o p√£o.", "Tostar levemente as nozes antes de incorporar real√ßa o sabor.", "Ajuste a hidrata√ß√£o da massa final conforme a absor√ß√£o da sua farinha." ]
            },
            { 
                name: "Focaccia de Alta Hidrata√ß√£o com Biga", category: "avancados",
                description: "Focaccia italiana com miolo extremamente aerado e macio, gra√ßas √† alta hidrata√ß√£o e √† matura√ß√£o da Biga. Coberta com tomates cereja, alecrim fresco e sal grosso.",
                ingredients: {
                    biga: [ {item: "Farinha de Trigo Forte (Tipo 00 ou similar)", percentage: 100, weightOriginal:"200g", isBaseFlourPart: true}, {item: "√Ågua (fria, aprox. 15¬∞C)", percentage: 50, weightOriginal:"100g"}, {item: "Fermento Biol√≥gico Fresco OU", percentage: 0.5, weightOriginal:"1g"}, {item: "FSI (Fermento Seco Instant√¢neo)", percentage: 0.16, weightOriginal:"0.3g"} ],
                    finalDough: [ {item: "Farinha de Trigo Forte (Tipo 00 ou similar)", percentage: 100, weightOriginal: "300g", isBaseFlour: true}, {item: "√Ågua Gelada", percentage: 80, weightOriginal: "240g"}, {item: "Azeite de Oliva Extra Virgem", percentage: 10, weightOriginal: "30g"}, {item: "Sal Marinho Fino", percentage: 2.5, weightOriginal: "7.5g"}, {item: "Malte Diast√°tico em P√≥ (opcional)", percentage: 1, weightOriginal:"3g"}, {item: "Toda a Biga Maturada", percentage: null, weightOriginal: "301g", isPreFerment: true, preFermentFlourPercentage: (200 / 500) * 100 } ],
                    cobertura: [ {item: "Tomates Cereja (cortados ao meio)", weightOriginal:"150g"}, {item: "Ramos de Alecrim Fresco", weightOriginal:"a gosto"}, {item: "Azeite de Oliva Extra Virgem", weightOriginal:"para regar"}, {item: "Flor de Sal ou Sal Grosso", weightOriginal:"para polvilhar"} ]
                },
                instructions: [ "Preparo da Biga: Misture os ingredientes da biga at√© formar uma massa firme e um pouco seca. Cubra e deixe fermentar em temperatura ambiente (18-20¬∞C) por 12-16 horas, ou na geladeira (4-6¬∞C) por 24-48 horas.", "Mistura da Massa Final: Em uma tigela grande ou na batedeira, coloque a farinha da massa final, a biga picada em peda√ßos, o malte (se usar) e a maior parte da √°gua gelada. Misture em velocidade baixa at√© incorporar.", "Adicione o sal e o restante da √°gua aos poucos, aumentando a velocidade da batedeira (se usar) para m√©dia. Bata at√© a massa come√ßar a desenvolver o gl√∫ten e se soltar das laterais da tigela (massa muito macia e pegajosa).", "Adicione o azeite de oliva aos poucos, continuando a bater at√© que seja totalmente incorporado e a massa fique lisa e el√°stica, mas ainda muito macia.", "Primeira Fermenta√ß√£o (Bulk): Transfira a massa para um recipiente grande untado com azeite. Cubra e deixe fermentar por 1h30 a 2 horas, fazendo 2-3 s√©ries de dobras na tigela (com as m√£os molhadas ou untadas de azeite) a cada 30-40 minutos. A massa deve ficar cheia de bolhas.", "Preparo da Assadeira: Unte generosamente uma assadeira retangular (aprox. 30x40cm) com azeite de oliva.", "Descanso e Modelagem na Assadeira: Despeje a massa delicadamente na assadeira. Com as pontas dos dedos untadas de azeite, espalhe a massa cuidadosamente para cobrir o fundo da assadeira, sem rasgar as bolhas. Deixe descansar por 30-45 minutos, coberto.", "Cobertura: Regue a superf√≠cie da massa com mais azeite. Com as pontas dos dedos, fa√ßa as tradicionais 'covinhas' na focaccia. Distribua os tomates cereja (pressionando levemente na massa) e os ramos de alecrim. Polvilhe com flor de sal.", "Fermenta√ß√£o Final na Assadeira: Deixe fermentar por mais 30-45 minutos, ou at√© a massa estar visivelmente aerada e macia ao toque.", "Coc√ß√£o: Pr√©-aque√ßa o forno a 220-230¬∞C. Asse a focaccia por 20-25 minutos, ou at√© dourar bem na superf√≠cie e as bordas ficarem crocantes. Se desejar, nos √∫ltimos 5 minutos, borrife um pouco de √°gua com sal na superf√≠cie para uma casca mais crocante.", "Finaliza√ß√£o: Retire do forno e regue com um fio de azeite fresco, se desejar. Deixe esfriar um pouco na assadeira antes de cortar e servir." ],
                tips: [ "A alta hidrata√ß√£o √© o segredo para os alv√©olos grandes. Manuseie a massa com delicadeza e m√£os untadas.", "N√£o tenha medo de usar bastante azeite, √© caracter√≠stico da focaccia.", "Varie a cobertura com azeitonas, cebola roxa fatiada, queijo parmes√£o, etc." ]
            },
            { 
                name: "P√£o Multigr√£os Enriquecido com Soaker", category: "avancados",
                description: "P√£o de forma ou fil√£o altamente nutritivo e saboroso, combinando diferentes farinhas integrais, uma variedade de sementes hidratadas (soaker) para textura e umidade, e um toque adocicado de mel.",
                ingredients: {
                    soaker: [ {item: "Sementes de Linha√ßa Dourada ou Marrom", weightOriginal:"30g"}, {item: "Sementes de Girassol (sem casca)", weightOriginal:"30g"}, {item: "Sementes de Gergelim Branco ou Preto", weightOriginal:"20g"}, {item: "Sementes de Chia (opcional)", weightOriginal:"10g"}, {item: "√Ågua Morna (suficiente para cobrir as sementes)", weightOriginal:"Aprox. 100-120ml"} ],
                    finalDough: [ {item: "Farinha de Trigo Branca (forte)", percentage: 50, weightOriginal: "250g", isBaseFlourPart: true}, {item: "Farinha de Trigo Integral Fina", percentage: 30, weightOriginal: "150g", isBaseFlourPart: true}, {item: "Farinha de Centeio Clara ou M√©dia", percentage: 20, weightOriginal: "100g", isBaseFlourPart: true}, {item: "√Ågua Morna (aproximadamente 35¬∞C)", percentage: 65, weightOriginal: "325g"}, {item: "Leite em P√≥ Integral (opcional, para maciez)", percentage: 4, weightOriginal: "20g"}, {item: "Mel de Flores Silvestres (ou outro)", percentage: 6, weightOriginal: "30g"}, {item: "Sal Marinho Fino", percentage: 2, weightOriginal: "10g"}, {item: "Fermento Biol√≥gico Seco Instant√¢neo (FSI)", percentage: 1.4, weightOriginal: "7g"}, {item: "Manteiga Sem Sal Amolecida", percentage: 6, weightOriginal: "30g"}, {item: "Todo o Soaker (escorrido, se houver excesso de √°gua)", percentage: null, weightOriginal: "Aprox. 180-200g ap√≥s hidrata√ß√£o"} ]
                },
                instructions: [ "Preparo do Soaker: Misture todas as sementes do soaker com a √°gua morna. Deixe hidratar por pelo menos 1-2 horas, ou idealmente de um dia para o outro na geladeira. Escorra qualquer excesso de √°gua antes de usar.", "Mistura da Massa Final: Em uma tigela grande ou na batedeira com gancho, misture as farinhas, o leite em p√≥ (se usar) e o fermento. Adicione o mel, a maior parte da √°gua morna e o soaker.", "Misture em velocidade baixa at√© formar uma massa. Adicione o sal. Continue misturando/sovando, adicionando o restante da √°gua aos poucos, se necess√°rio, at√© a massa ficar homog√™nea.", "Adi√ß√£o da Manteiga: Adicione a manteiga amolecida em peda√ßos pequenos, sovando at√© que seja totalmente incorporada e a massa desenvolva um bom gl√∫ten (ponto de v√©u m√©dio). A massa deve ser macia e um pouco pegajosa.", "Primeira Fermenta√ß√£o (Bulk): Coloque a massa em um recipiente levemente untado, cubra e deixe fermentar em local morno (24-26¬∞C) por cerca de 60-90 minutos, ou at√© dobrar de volume.", "Divis√£o e Pr√©-Modelagem: Retire o ar da massa delicadamente. Divida em uma ou duas por√ß√µes, dependendo do tamanho do p√£o desejado. Pr√©-modele em formato de bola ou cilindro.", "Descanso Intermedi√°rio: Cubra as por√ß√µes e deixe descansar por 15-20 minutos.", "Modelagem Final: Modele no formato final desejado (p√£o de forma, fil√£o/b√¢tard). Se usar forma de p√£o, unte-a.", "Segunda Fermenta√ß√£o (Final Proof): Coloque a massa modelada na forma ou em uma assadeira preparada. Cubra e deixe fermentar em local morno por 45-75 minutos, ou at√© quase dobrar de volume e a massa parecer fofa ao toque.", "Preparo para Assar: Pr√©-aque√ßa o forno a 200¬∞C (180¬∞C se for forno com convec√ß√£o). Se desejar, pincele o topo do p√£o com um pouco de √°gua ou ovo batido e polvilhe com mais sementes.", "Coc√ß√£o: Asse por 35-45 minutos, ou at√© o p√£o estar bem dourado e soar oco ao bater na parte de baixo. A temperatura interna deve ser de 94-96¬∞C.", "Resfriamento: Retire o p√£o da forma imediatamente ap√≥s assar e deixe esfriar completamente em uma grade antes de fatiar. Isso evita que o miolo fique √∫mido." ],
                tips: [ "O soaker √© fundamental para manter a umidade e adicionar textura ao p√£o multigr√£os. N√£o pule esta etapa.", "Sinta-se √† vontade para variar os tipos de sementes no soaker de acordo com sua prefer√™ncia (ex: aveia em flocos, semente de ab√≥bora).", "A farinha de centeio adiciona um sabor caracter√≠stico. Se preferir um sabor mais suave, pode substitu√≠-la por mais farinha integral de trigo.", "Este p√£o √© √≥timo para sandu√≠ches ou consumido puro com manteiga ou geleia." ]
            }
        ];
        
        const defaultCreamsAndFillingsData = [
            { name: "Creme de Confeiteiro", category: "cremes_recheios", type: "page", contentKey: "creme_confeiteiro_detalhado_content", description: "Base cl√°ssica para recheios." },
            { name: "Chantilly", category: "cremes_recheios", type: "page", contentKey: "chantilly_content", description: "Creme leve e aerado." },
            { name: "Creme de Manteiga", category: "cremes_recheios", type: "page", contentKey: "buttercream_content", description: "Vers√°til para coberturas e recheios." },
            { name: "Ganache", category: "cremes_recheios", type: "page", contentKey: "ganache_content", description: "Mistura rica de chocolate e natas." },
            { name: "Creme de Lim√£o (Lemon Curd)", category: "cremes_recheios", type: "page", contentKey: "lemon_curd_content", description: "Creme √°cido e doce de lim√£o." },
            { name: "Recheios de Fruta", category: "cremes_recheios", type: "page", contentKey: "fruit_fillings_content", description: "Compotas, geleias e coulis." },
            { name: "Creme Belga", category: "cremes_recheios", type: "page", contentKey: "creme_belga_content", description: "Creme branco suave e popular." },
            { name: "Creme de Leite Ninho", category: "cremes_recheios", type: "page", contentKey: "creme_leite_ninho_content", description: "Creme com sabor caracter√≠stico de leite em p√≥." },
            { name: "Doce de Leite", category: "cremes_recheios", type: "page", contentKey: "doce_leite_content", description: "Doce espesso e caramelizado de leite." }
        ];
        
        // --- L√ìGICA PRINCIPAL DA APLICA√á√ÉO ---
        let recipes = []; 

        const recipeNav = document.getElementById('recipeNav');
        const recipeContentDiv = document.getElementById('recipeContent'); 
        const recipeContentContainer = document.getElementById('recipeContentContainer');
        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const sidebar = document.getElementById('sidebar');
        const contentOverlay = document.getElementById('contentOverlay');
        
        const printRecipeButton = document.getElementById('printRecipeButton');
        const editRecipeButton = document.getElementById('editRecipeButton');
        const saveRecipeChangesButton = document.getElementById('saveRecipeChangesButton');
        const cancelEditButton = document.getElementById('cancelEditButton');
        const downloadApostilaButton = document.getElementById('downloadApostilaButton'); 
        const restoreDefaultRecipesButton = document.getElementById('restoreDefaultRecipesButton');

        const flourCalculatorContainer = document.createElement('div');
              flourCalculatorContainer.id = 'flourCalculatorContainer';
              flourCalculatorContainer.classList.add('my-4', 'p-4', 'border', 'border-slate-300', 'rounded-md', 'bg-slate-50', 'no-print'); 

        let currentRecipeForSaving = null; 
        let currentRecipeOriginalData = null; 
        let isEditMode = false;

        function loadDefaultRecipes() {
            defaultBasicRecipesData.forEach(r => r.category = "basicos");
            defaultBuffetRecipesData.forEach(r => r.category = "buffet");
            defaultFrenchRecipesData.forEach(r => r.category = "franceses");
            defaultAllAdvancedRecipeData.forEach(r => r.category = "avancados");
            defaultCreamsAndFillingsData.forEach(r => { r.category = "cremes_recheios"; r.type = "page"; });

            recipes = [
                ...JSON.parse(JSON.stringify(defaultBasicRecipesData)), 
                ...JSON.parse(JSON.stringify(defaultBuffetRecipesData)),
                ...JSON.parse(JSON.stringify(defaultFrenchRecipesData)),
                ...JSON.parse(JSON.stringify(defaultAllAdvancedRecipeData)),
                ...JSON.parse(JSON.stringify(defaultCreamsAndFillingsData)) 
            ];
        }

        const defaultFermentationSubmenuData = [ 
            { name: "Levain (Fermento Natural)", contentKey: "levain_content", category: "fermentacao_submenu", type: "page" },
            { name: "Biga", contentKey: "biga_content", category: "fermentacao_submenu", type: "page" },
            { name: "Poolish", contentKey: "poolish_content", category: "fermentacao_submenu", type: "page" },
            { name: "P√¢te Ferment√©e (Massa Velha)", contentKey: "pate_fermentee_content", category: "fermentacao_submenu", type: "page" },
            { name: "Esponja", contentKey: "esponja_content", category: "fermentacao_submenu", type: "page" }
        ];

        function initializeRecipes() {
            const storedRecipes = localStorage.getItem('apostilaP√£esRecipes');
            if (storedRecipes) {
                try {
                    recipes = JSON.parse(storedRecipes);
                    const hasPageCategories = recipes.some(r => (r.category === 'cremes_recheios' || r.category === 'fermentacao_submenu') && r.type === 'page');
                    if (!hasPageCategories && (defaultCreamsAndFillingsData.length > 0 || defaultFermentationSubmenuData.length > 0) ) { 
                        console.log("LocalStorage antigo detectado ou sem categorias de p√°gina, recarregando defaults.");
                        loadDefaultRecipes();
                        saveRecipesToLocalStorage(); 
                    } else {
                         console.log("Receitas carregadas do localStorage.");
                    }
                } catch (e) {
                    console.error("Erro ao carregar/parsear receitas do localStorage:", e);
                    loadDefaultRecipes(); 
                }
            } else {
                loadDefaultRecipes();
                console.log("Nenhuma receita salva localmente. Carregando receitas padr√£o.");
            }
        }
        
        function saveRecipesToLocalStorage() {
            try {
                localStorage.setItem('apostilaP√£esRecipes', JSON.stringify(recipes));
                console.log("Receitas salvas no localStorage.");
            } catch (e) {
                console.error("Erro ao salvar no localStorage:", e);
                alert("Erro ao salvar localmente. Verifique as permiss√µes do navegador ou se o localStorage est√° cheio.");
            }
        }

        restoreDefaultRecipesButton.addEventListener('click', () => {
            if (confirm("Tem certeza que deseja restaurar todas as receitas para o padr√£o original? Todas as altera√ß√µes salvas localmente ser√£o perdidas.")) {
                localStorage.removeItem('apostilaP√£esRecipes');
                loadDefaultRecipes(); 
                populateNav(); 
                recipeContentDiv.innerHTML = '<p class="text-lg text-center text-slate-500">Receitas restauradas para o padr√£o. Selecione uma receita ou se√ß√£o ao lado para come√ßar.</p>';
                printRecipeButton.style.display = 'none';
                editRecipeButton.style.display = 'none';
                saveRecipeChangesButton.style.display = 'none';
                cancelEditButton.style.display = 'none';
                flourCalculatorContainer.style.display = 'none';
                restoreDefaultRecipesButton.style.display = 'none'; 
            }
        });

        downloadApostilaButton.addEventListener('click', () => {
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0'); 
            const year = today.getFullYear();
            const formattedDate = `${day}-${month}-${year}`;
            const filename = `Apostila_Atualizada_${formattedDate}.html`;
            
            const pageHtml = document.documentElement.outerHTML;
            const blob = new Blob([pageHtml], { type: 'text/html;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            alert(`Download da apostila iniciado como "${filename}".\n\nLembrete: Para que um amigo veja SUAS altera√ß√µes, a melhor forma √©: \n1. Salve suas altera√ß√µes localmente aqui na apostila.\n2. Use a op√ß√£o "Salvar P√°gina Como..." do seu navegador para criar uma c√≥pia do arquivo HTML. Essa c√≥pia conter√° suas altera√ß√µes.`);
        });

        function setEditableState(isEditable) {
            isEditMode = isEditable; 
            
            const recipeDescDiv = recipeContentDiv.querySelector('#recipeDescription');
            const ingredientsTables = recipeContentDiv.querySelectorAll('table[data-section-key]');
            const instructionsOList = recipeContentDiv.querySelector('#instructionsList');
            const tipsUList = recipeContentDiv.querySelector('#tipsList');

            recipeContentDiv.querySelectorAll('.add-btn-container').forEach(c => c.remove());

            if (isEditable) {
                if (recipeDescDiv) {
                    const currentText = recipeDescDiv.textContent || ""; 
                    recipeDescDiv.innerHTML = `<textarea class="edit-mode-textarea" data-field="description">${currentText.trim()}</textarea>`;
                }

                ingredientsTables.forEach(table => {
                    const sectionKey = table.dataset.sectionKey;
                    const tbody = table.querySelector('tbody');
                    if (!tbody) return;

                    Array.from(tbody.rows).forEach(row => {
                        if (row.cells.length < 3) return; 

                        const itemText = row.cells[0].textContent.trim();
                        const percentageText = row.cells[1].textContent.replace('%','').trim();
                        const weightText = row.cells[2].textContent.trim();

                        row.cells[0].innerHTML = `<input type="text" class="edit-mode-input" value="${itemText}">`;
                        row.cells[1].innerHTML = `<input type="text" class="edit-mode-input" value="${percentageText}">`;
                        row.cells[2].innerHTML = `<input type="text" class="edit-mode-input" value="${weightText}">`;
                        
                        if (row.cells.length === 3) { 
                            const removeBtnCell = row.insertCell(-1);
                            removeBtnCell.innerHTML = `<button class="remove-btn" title="Remover Ingrediente">üóëÔ∏è</button>`;
                            removeBtnCell.querySelector('button').onclick = function() { this.closest('tr').remove(); };
                        } else if (row.cells.length === 4 && !row.cells[3].querySelector('button')) {
                             row.cells[3].innerHTML = `<button class="remove-btn" title="Remover Ingrediente">üóëÔ∏è</button>`;
                             row.cells[3].querySelector('button').onclick = function() { this.closest('tr').remove(); };
                        }
                    });
                    const addBtnContainer = document.createElement('div'); 
                    addBtnContainer.className = 'add-btn-container mt-2'; 
                    addBtnContainer.innerHTML = `<button class="add-btn" data-section-key="${sectionKey}">+ Adicionar Ingrediente</button>`;
                    table.insertAdjacentElement('afterend', addBtnContainer);
                    addBtnContainer.querySelector('button').onclick = function() { addIngredientRow(this.dataset.sectionKey, tbody); };
                });

                if (instructionsOList) {
                    Array.from(instructionsOList.children).forEach(li => {
                        if (li.tagName === 'LI' && !li.classList.contains('edit-item-li')) { 
                            const currentText = li.textContent || "";
                            li.classList.add('edit-item-li');
                            li.innerHTML = `<textarea class="edit-mode-textarea">${currentText.trim()}</textarea><button class="remove-btn" title="Remover Instru√ß√£o">üóëÔ∏è</button>`;
                            li.querySelector('button').onclick = function() { this.closest('li').remove(); };
                        }
                    });
                    const addInstructionBtnContainer = document.createElement('div');
                    addInstructionBtnContainer.className = 'add-btn-container';
                    addInstructionBtnContainer.innerHTML = `<button class="add-btn">+ Adicionar Instru√ß√£o</button>`;
                    instructionsOList.insertAdjacentElement('afterend', addInstructionBtnContainer);
                    addInstructionBtnContainer.querySelector('button').onclick = function() { addListItem(instructionsOList, 'instruction'); };
                }
                 if (tipsUList) {
                    Array.from(tipsUList.children).forEach(li => {
                         if (li.tagName === 'LI' && !li.classList.contains('edit-item-li')) {
                            const currentText = li.textContent || "";
                            li.classList.add('edit-item-li');
                            li.innerHTML = `<textarea class="edit-mode-textarea">${currentText.trim()}</textarea><button class="remove-btn" title="Remover Dica">üóëÔ∏è</button>`;
                            li.querySelector('button').onclick = function() { this.closest('li').remove(); };
                        }
                    });
                    const addTipBtnContainer = document.createElement('div');
                    addTipBtnContainer.className = 'add-btn-container';
                    addTipBtnContainer.innerHTML = `<button class="add-btn">+ Adicionar Dica</button>`;
                    tipsUList.insertAdjacentElement('afterend', addTipBtnContainer);
                    addTipBtnContainer.querySelector('button').onclick = function() { addListItem(tipsUList, 'tip'); };
                }

                editRecipeButton.style.display = 'none';
                saveRecipeChangesButton.style.display = 'inline-flex';
                cancelEditButton.style.display = 'inline-flex';
                printRecipeButton.style.display = 'none'; 
                flourCalculatorContainer.style.display = 'none';
                restoreDefaultRecipesButton.style.display = 'none';
            } else { 
                if (currentRecipeForSaving) {
                     displayRecipeDetail(currentRecipeForSaving); 
                }
            }
        }
        
        function addIngredientRow(sectionKey, tbody) {
            const newRow = tbody.insertRow(-1); 
            newRow.insertCell(0).innerHTML = `<input type="text" class="edit-mode-input" value="">`;
            newRow.insertCell(1).innerHTML = `<input type="text" class="edit-mode-input" value="">`;
            newRow.insertCell(2).innerHTML = `<input type="text" class="edit-mode-input" value="">`;
            const removeBtnCell = newRow.insertCell(3);
            removeBtnCell.innerHTML = `<button class="remove-btn" title="Remover Ingrediente">üóëÔ∏è</button>`;
            removeBtnCell.querySelector('button').onclick = function() { this.closest('tr').remove(); };
        }

        function addListItem(listElement, type) {
            const newItem = document.createElement('li');
            newItem.classList.add('edit-item-li');
            newItem.innerHTML = `<textarea class="edit-mode-textarea"></textarea><button class="remove-btn" title="Remover ${type === 'instruction' ? 'Instru√ß√£o' : 'Dica'}">üóëÔ∏è</button>`;
            newItem.querySelector('button').onclick = function() { this.closest('li').remove(); };
            listElement.appendChild(newItem);
        }

        editRecipeButton.addEventListener('click', () => {
            if (currentRecipeForSaving) {
                currentRecipeOriginalData = JSON.parse(JSON.stringify(currentRecipeForSaving)); 
                setEditableState(true);
            }
        });

        cancelEditButton.addEventListener('click', () => {
            if (currentRecipeForSaving && currentRecipeOriginalData) {
                currentRecipeForSaving = JSON.parse(JSON.stringify(currentRecipeOriginalData));
                const recipeIndex = recipes.findIndex(r => r.name === currentRecipeOriginalData.name && r.category === currentRecipeOriginalData.category);
                if (recipeIndex !== -1) {
                    recipes[recipeIndex] = JSON.parse(JSON.stringify(currentRecipeOriginalData));
                }
            }
            setEditableState(false); 
            currentRecipeOriginalData = null;
        });

        saveRecipeChangesButton.addEventListener('click', () => {
            if (currentRecipeForSaving) {
                saveRecipeChangesInMemory(currentRecipeForSaving); 
                saveRecipesToLocalStorage(); 
            }
            setEditableState(false); 
            currentRecipeOriginalData = null; 
        });
        
        function displayRecipeDetail(recipe) {
            currentRecipeForSaving = JSON.parse(JSON.stringify(recipe)); 
            isEditMode = false; 
            
            flourCalculatorContainer.innerHTML = ''; 
            
            printRecipeButton.style.display = 'none'; 
            editRecipeButton.style.display = 'none';
            saveRecipeChangesButton.style.display = 'none';
            cancelEditButton.style.display = 'none';
            flourCalculatorContainer.style.display = 'none';
            restoreDefaultRecipesButton.style.display = 'none';

            let recipeDescriptionHtml = `<div id="recipeDescription" class="text-slate-600 mb-6 italic p-2">${recipe.description || ''}</div>`;
            if (recipe.type === 'page') { 
                recipeContentDiv.innerHTML = pageContents[recipe.contentKey] || `<h2 class="page-title">${recipe.name}</h2><div id="recipeDescription">${recipe.description || 'Conte√∫do em breve.'}</div>`;
                const oldAddButtons = recipeContentDiv.querySelectorAll('.add-btn-container');
                oldAddButtons.forEach(btn => btn.remove());
                return; 
            }

            editRecipeButton.style.display = 'inline-flex';
            printRecipeButton.style.display = 'inline-flex';
            flourCalculatorContainer.style.display = 'block';
            restoreDefaultRecipesButton.style.display = 'inline-flex';

            let totalOriginalFlourWeight = 0;
            let baseFlourSectionKey = 'finalDough'; 

            if (recipe.ingredients && recipe.ingredients.finalDough) {
                const baseFloursInFinalDough = recipe.ingredients.finalDough.filter(ing => ing.isBaseFlour || ing.isBaseFlourPart);
                if (baseFloursInFinalDough.length > 0) {
                    totalOriginalFlourWeight = baseFloursInFinalDough.reduce((sum, ing) => {
                        const weightMatch = String(ing.weightOriginal).match(/(\d+(\.\d+)?)/);
                        return sum + (weightMatch ? parseFloat(weightMatch[0]) : 0);
                    }, 0);
                }
            }
            
            flourCalculatorContainer.innerHTML = `
                <label for="totalFlourInput-${recipe.name.replace(/\s/g, '-')}" class="block text-sm font-medium text-slate-700">Peso Total da Farinha Base (g):</label>
                <div class="mt-1 flex rounded-md shadow-sm">
                    <input type="number" id="totalFlourInput-${recipe.name.replace(/\s/g, '-')}" value="${totalOriginalFlourWeight > 0 ? totalOriginalFlourWeight.toFixed(0) : ''}" class="focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-slate-300 p-2">
                    <button id="recalculateButton-${recipe.name.replace(/\s/g, '-')}" class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-slate-300 bg-slate-100 text-slate-600 hover:bg-slate-200 sm:text-sm">
                        Recalcular Pesos
                    </button>
                </div>`;
            
            if (recipeContentContainer && recipeContentDiv && !flourCalculatorContainer.parentElement) { 
                 recipeContentContainer.insertBefore(flourCalculatorContainer, recipeContentDiv);
            }

            const recalculateButton = document.getElementById(`recalculateButton-${recipe.name.replace(/\s/g, '-')}`);
            if(recalculateButton) { 
                recalculateButton.addEventListener('click', () => updateIngredientWeights(currentRecipeForSaving, totalOriginalFlourWeight, baseFlourSectionKey));
            }
            
            let ingredientsHtml = '';
            if(recipe.ingredients) {
                Object.keys(recipe.ingredients).forEach(key => {
                    const sectionName = getIngredientSectionName(key);
                    const ingredientsList = recipe.ingredients[key];
                    
                    if (ingredientsList && ingredientsList.length > 0) {
                        ingredientsHtml += `<h4 class="text-lg font-semibold mt-4 mb-2 text-slate-800">${sectionName}:</h4>
                                            <table data-section-key="${key}"><thead><tr><th>Item</th><th>% Padeiro</th><th>Peso (g)</th></tr></thead><tbody>`;
                        ingredientsList.forEach((ing, index) => {
                            const percentageDisplay = (ing.percentage !== null && ing.percentage !== undefined) ? `${ing.percentage}` : '-'; 
                            const weightDisplay = ing.weightOriginal || ing.weight || '-'; 
                            ingredientsHtml += `<tr>
                                                <td>${ing.item}</td>
                                                <td>${percentageDisplay}</td>
                                                <td data-original-percentage="${ing.percentage}" data-is-base-flour-part="${ing.isBaseFlourPart || false}" data-is-pre-ferment="${ing.isPreFerment || false}" data-pre-ferment-flour-percentage="${ing.preFermentFlourPercentage || 0}">${weightDisplay}</td>
                                              </tr>`;
                        });
                        ingredientsHtml += '</tbody></table>';
                    }
                });
            }

            let instructionsHtml = '<ol class="list-decimal list-inside space-y-2 text-slate-700" id="instructionsList">';
            (recipe.instructions || []).forEach((step) => { 
                instructionsHtml += `<li>${step}</li>`; 
            });
            instructionsHtml += '</ol>';

            let tipsHtml = '<ul class="list-disc list-inside space-y-1" id="tipsList">';
            (recipe.tips || []).forEach((tip) => { 
                tipsHtml += `<li>${tip}</li>`; 
            });
            tipsHtml += '</ul>';
            
            const oldAddButtons = recipeContentDiv.querySelectorAll('.add-btn-container');
            oldAddButtons.forEach(btn => btn.remove());

            recipeContentDiv.innerHTML = `
                ${recipeDescriptionHtml}
                <h3 class="text-xl font-semibold mb-3 text-slate-800">Ingredientes:</h3>
                ${ingredientsHtml}
                <h3 class="text-xl font-semibold mt-6 mb-3 text-slate-800">Instru√ß√µes:</h3>
                ${instructionsHtml}
                <div class="dicas-jean p-4 mt-6 rounded-md">
                    <h4 class="text-lg font-semibold mb-2 text-teal-800">Dicas:</h4>
                    ${tipsHtml}
                </div>
                <div class="mt-8">
                    <h4 class="text-lg font-semibold mb-2 text-slate-800">Minhas Anota√ß√µes (para esta sess√£o):</h4>
                    <textarea class="w-full h-32 p-2 border border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Suas observa√ß√µes sobre o teste desta receita..."></textarea>
                </div>`;
        }

        function saveRecipeChangesInMemory(recipeObjectToUpdate) {
            if (!recipeObjectToUpdate) return;

            const descriptionTextarea = recipeContentDiv.querySelector('#recipeDescription textarea[data-field="description"]');
            if (descriptionTextarea) recipeObjectToUpdate.description = descriptionTextarea.value;

            const newIngredientsData = {};
            recipeContentDiv.querySelectorAll('table[data-section-key]').forEach(table => {
                const sectionKey = table.dataset.sectionKey;
                newIngredientsData[sectionKey] = [];
                table.querySelectorAll('tbody tr').forEach(row => {
                    if (row.cells.length < 3 || !row.cells[0].querySelector('input')) return; 
                    
                    const itemInput = row.cells[0].querySelector('input');
                    const percentageInput = row.cells[1].querySelector('input');
                    const weightInput = row.cells[2].querySelector('input');

                    if (itemInput && percentageInput && weightInput) {
                         const percentageText = percentageInput.value.trim();
                         const originalIngDataArray = currentRecipeOriginalData?.ingredients[sectionKey];
                         let originalIngData = {};
                         if(originalIngDataArray) {
                             originalIngData = originalIngDataArray.find(ing => ing.item === itemInput.value.trim()) || {};
                         }
                        
                        newIngredientsData[sectionKey].push({
                            item: itemInput.value.trim(),
                            percentage: !isNaN(parseFloat(percentageText)) ? parseFloat(percentageText) : (percentageText === '-' || percentageText === '' ? null : percentageText),
                            weightOriginal: weightInput.value.trim(),
                            isBaseFlour: originalIngData.isBaseFlour,
                            isBaseFlourPart: originalIngData.isBaseFlourPart,
                            isPreFerment: originalIngData.isPreFerment,
                            preFermentFlourPercentage: originalIngData.preFermentFlourPercentage
                        });
                    }
                });
            });
            recipeObjectToUpdate.ingredients = newIngredientsData;
            
            const newInstructions = [];
            recipeContentDiv.querySelectorAll('#instructionsList li textarea').forEach(textarea => {
                newInstructions.push(textarea.value.trim());
            });
            recipeObjectToUpdate.instructions = newInstructions;

            const newTips = [];
            recipeContentDiv.querySelectorAll('#tipsList li textarea').forEach(textarea => {
                newTips.push(textarea.value.trim());
            });
            recipeObjectToUpdate.tips = newTips;
            
            const recipeIndex = recipes.findIndex(r => r.name === currentRecipeOriginalData.name && r.category === currentRecipeOriginalData.category); 
            if (recipeIndex !== -1) {
                recipes[recipeIndex] = JSON.parse(JSON.stringify(recipeObjectToUpdate)); 
            } else {
                console.warn("N√£o foi poss√≠vel encontrar a receita original no array 'recipes' para atualiza√ß√£o pelo nome. A atualiza√ß√£o pode n√£o ter sido refletida no array principal se o nome foi alterado.");
            }
        }
        
        function getIngredientSectionName(key) {
            switch (key) {
                case 'poolish': return 'Poolish (Pr√©-Fermento)';
                case 'biga': return 'Biga (Pr√©-Fermento)';
                case 'soaker': return 'Soaker (Gr√£os Hidratados)';
                case 'pateFermentee': return 'P√¢te Ferment√©e (Massa Pr√©-Fermentada)';
                case 'levain': return 'Levain (Sourdough Starter)';
                case 'levainCenteio': return 'Levain de Centeio';
                case 'lievitoMadre': return 'Lievito Madre';
                case 'primoImpasto': return 'Primeiro Impasto (1¬™ Massa)';
                case 'secondoImpasto': return 'Segundo Impasto (2¬™ Massa)';
                case 'sourdoughCenteio': return 'Sourdough de Centeio';
                case 'massa': return 'Massa Base';
                case 'recheio': return 'Recheio';
                case 'recheioCobertura': return 'Recheio/Cobertura';
                case 'finalizacao': return 'Finaliza√ß√£o';
                case 'finalDough': return 'Massa Final';
                case 'cobertura': return 'Cobertura';
                case 'coberturaOpcional': return 'Cobertura (Opcional)';
                default: 
                    const name = key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                    return name.includes('Submenu') ? name.replace('Submenu', ' (T√©cnicas)') : name;
            }
        }
        
        function updateIngredientWeights(recipeObject, originalTotalFlourWeight, baseFlourSectionKey = 'finalDough') {
            const totalFlourInputElement = document.getElementById(`totalFlourInput-${recipeObject.name.replace(/\s/g, '-')}`);
            if (!totalFlourInputElement) return;
            const newTotalFlourWeight = parseFloat(totalFlourInputElement.value);

            if (isNaN(newTotalFlourWeight) || newTotalFlourWeight <= 0) {
                alert("Por favor, insira um valor v√°lido para o peso da farinha.");
                return;
            }
            
            const scaleFactor = originalTotalFlourWeight > 0 ? newTotalFlourWeight / originalTotalFlourWeight : 1;

            Object.keys(recipeObject.ingredients).forEach(sectionKey => {
                const table = recipeContentDiv.querySelector(`table[data-section-key="${sectionKey}"]`);
                if (!table) return;
                const tbody = table.querySelector('tbody');
                if(!tbody) return;

                recipeObject.ingredients[sectionKey].forEach((ingredientData, index) => {
                    const row = tbody.rows[index];
                    if (!row || row.cells.length < 3) return;

                    const weightCellOrInput = isEditMode ? row.cells[2].querySelector('input') : row.cells[2];
                    
                    if (ingredientData.percentage !== null && ingredientData.percentage !== undefined && !isNaN(parseFloat(ingredientData.percentage))) {
                        let calculatedWeight;
                        const currentPercentage = parseFloat(ingredientData.percentage);

                        if (sectionKey === baseFlourSectionKey) { 
                            if (ingredientData.isBaseFlourPart) { 
                                calculatedWeight = (currentPercentage / 100) * newTotalFlourWeight;
                            } else if (ingredientData.isBaseFlour) { 
                                calculatedWeight = newTotalFlourWeight; 
                            } else { 
                                calculatedWeight = (currentPercentage / 100) * newTotalFlourWeight;
                            }
                        } else if (ingredientData.isPreFerment && ingredientData.preFermentFlourPercentage !== undefined && ingredientData.preFermentFlourPercentage > 0) {
                            const preFermentBaseFlourWeight = (ingredientData.preFermentFlourPercentage / 100) * newTotalFlourWeight;
                             calculatedWeight = (currentPercentage / 100) * preFermentBaseFlourWeight;
                        } else { 
                            calculatedWeight = (currentPercentage / 100) * newTotalFlourWeight;
                        }
                        const newWeightString = calculatedWeight.toFixed(1) + 'g';
                        if (isEditMode && weightCellOrInput) { weightCellOrInput.value = newWeightString; } 
                        else if (weightCellOrInput) { weightCellOrInput.textContent = newWeightString; }
                        ingredientData.weightOriginal = newWeightString; 

                    } else { 
                        const originalWeightMatch = String(ingredientData.weightOriginal).match(/(\d+(\.\d+)?)/);
                        if (originalWeightMatch && !isNaN(parseFloat(originalWeightMatch[0])) && (ingredientData.item && !ingredientData.item.toLowerCase().includes("a gosto") && !ingredientData.item.toLowerCase().includes("unidade")) ) {
                            const scaledWeight = parseFloat(originalWeightMatch[0]) * scaleFactor;
                            let unit = String(ingredientData.weightOriginal).replace(originalWeightMatch[0], '').trim() || 'g';
                            if (unit.toLowerCase() === "ml" && (ingredientData.item.toLowerCase().includes("√°gua") || ingredientData.item.toLowerCase().includes("leite"))) unit = "g"; 
                            
                            const newWeightString = scaledWeight.toFixed(1) + unit;
                            if (isEditMode && weightCellOrInput) { weightCellOrInput.value = newWeightString; } 
                            else if (weightCellOrInput) { weightCellOrInput.textContent = newWeightString; }
                            ingredientData.weightOriginal = newWeightString;
                        } else {
                            if (isEditMode && weightCellOrInput) { weightCellOrInput.value = ingredientData.weightOriginal || ingredientData.weight || '-'; } 
                            else if (weightCellOrInput) { weightCellOrInput.textContent = ingredientData.weightOriginal || ingredientData.weight || '-'; }
                        }
                    }
                });
            });
        }
        
        function displayPageContent(htmlContent) {
            recipeContentDiv.innerHTML = htmlContent;
            printRecipeButton.style.display = 'none';
            editRecipeButton.style.display = 'none';
            saveRecipeChangesButton.style.display = 'none';
            cancelEditButton.style.display = 'none';
            flourCalculatorContainer.innerHTML = ''; 
            flourCalculatorContainer.style.display = 'none';
            restoreDefaultRecipesButton.style.display = 'none';
        }
        
        function populateNav() {
            recipeNav.innerHTML = ''; 
            const categories = {
                basicos: [], buffet: [], franceses: [], avancados: [],
                cremes_recheios: [], 
                fermentacao_submenu: []
            };
            
            defaultCreamsAndFillingsData.forEach(item => categories.cremes_recheios.push(item));
            defaultFermentationSubmenuData.forEach(item => categories.fermentacao_submenu.push(item));

            recipes.forEach(recipe => {
                if (recipe.type !== 'page') { 
                     if (!categories[recipe.category]) {
                        // console.warn(`Categoria '${recipe.category}' para a receita '${recipe.name}' n√£o existe na estrutura 'categories'. A receita n√£o ser√° adicionada ao menu.`);
                     } else {
                        categories[recipe.category].push(recipe);
                     }
                }
            });

            const categoryOrder = ['basicos', 'buffet', 'franceses', 'avancados', 'cremes_recheios', 'fermentacao_submenu']; 

            categoryOrder.forEach(categoryKey => {
                const categoryItems = categories[categoryKey];
                if (categoryItems && categoryItems.length > 0) {
                    const categoryContainer = document.createElement('div');
                    categoryContainer.classList.add('mb-1'); 
                    
                    const categoryButton = document.createElement('button');
                    categoryButton.classList.add('nav-category-button');
                    let categoryName = getIngredientSectionName(categoryKey);
                     if(categoryKey === 'basicos') categoryName = 'P√£es B√°sicos';
                    else if(categoryKey === 'buffet') categoryName = 'P√£es para Buffets';
                    else if(categoryKey === 'franceses') categoryName = 'P√£es Franceses';
                    else if(categoryKey === 'avancados') categoryName = 'P√£es Avan√ßados';
                    else if(categoryKey === 'cremes_recheios') categoryName = 'Cremes e Recheios';
                    else if(categoryKey === 'fermentacao_submenu') categoryName = 'T√©cnicas de Fermenta√ß√£o';

                    categoryButton.innerHTML = `
                        <span>${categoryName}</span>
                        <svg class="transform" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                    `;
                    
                    const subMenu = document.createElement('div');
                    subMenu.classList.add('nav-submenu');

                    categoryItems.sort((a, b) => a.name.localeCompare(b.name)).forEach(item => { 
                        const navLink = document.createElement('a');
                        navLink.href = '#';
                        navLink.textContent = item.name;
                        navLink.classList.add('nav-item', 'block');
                        navLink.addEventListener('click', (e) => {
                            e.preventDefault();
                            document.querySelectorAll('#recipeNav .nav-item, #recipeNav .nav-page-button').forEach(el => el.classList.remove('active'));
                            document.querySelectorAll('#recipeNav .nav-category-button').forEach(btn => btn.classList.remove('active-category', 'open'));
                            document.querySelectorAll('#recipeNav .nav-submenu').forEach(sub => sub.classList.remove('open'));
                            
                            navLink.classList.add('active');
                            categoryButton.classList.add('active-category','open');
                            subMenu.classList.add('open');

                            if (item.type === 'page') { 
                                displayPageContent(pageContents[item.contentKey] || `<h2 class="page-title">${item.name}</h2><p>${item.description || 'Conte√∫do em breve.'}</p>`);
                            } else {
                                const fullRecipeData = recipes.find(r => r.name === item.name && r.category === item.category && r.type !== 'page');
                                displayRecipeDetail(fullRecipeData || item); 
                            }
                             if (window.innerWidth <= 768) {
                                sidebar.classList.remove('open');
                                contentOverlay.classList.remove('open');
                            }
                        });
                        subMenu.appendChild(navLink);
                    });

                    categoryButton.addEventListener('click', (e) => {
                        e.stopPropagation(); 
                        const currentlyOpenSubmenu = recipeNav.querySelector('.nav-submenu.open');
                        const currentlyOpenButton = recipeNav.querySelector('.nav-category-button.open');

                        if (currentlyOpenSubmenu && currentlyOpenSubmenu !== subMenu) {
                            currentlyOpenSubmenu.classList.remove('open');
                            if(currentlyOpenButton) currentlyOpenButton.classList.remove('open');
                        }
                        categoryButton.classList.toggle('open');
                        subMenu.classList.toggle('open');
                    });

                    categoryContainer.appendChild(categoryButton);
                    categoryContainer.appendChild(subMenu);
                    recipeNav.appendChild(categoryContainer);
                }
            });
        }
        
        // Inicializa√ß√£o da Aplica√ß√£o
        initializeRecipes(); 
        populateNav(); 

        mobileMenuButton.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            contentOverlay.classList.toggle('open');
        });
        contentOverlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            contentOverlay.classList.remove('open');
        });
        printRecipeButton.addEventListener('click', () => {
            window.print();
        });
    </script>
</body>
</html>
